{"version":2,"updates":[{"id":0,"timestamp":1755889339164,"update":"AVvq25iIBwAnAQRib3RzJDUzYjAxNjFiLTdiOWEtNDA0Yi1hYzE5LTg1ZTNhMTllZDkzMAEnAOrbmIgHAAlhYkNoYW5uZWwCBADq25iIBwEEdHJ1ZScA6tuYiAcAEGFiQ29yZU1lbnVBY3Rpb24CBADq25iIBwaOAkBvcy50b2FzdCgiQ3JlYXRpbmcgbmV3IGluc3QiKTsNCg0KY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwoY29uZmlnQm90LnRhZ3MudXJsKTsNCmNvbnN0IG9yaWdpbiA9IGN1cnJlbnRVUkwub3JpZ2luOw0KDQpsZXQgbmV3VVJMOw0KaWYgKGFiUmVtZW1iZXIudGFncy5hbGxvd0NoYW5uZWxzKSB7DQogICAgbmV3VVJMID0gb3JpZ2luICsgIi8/Y2hhbm5lbD1mYWxzZSI7DQp9IGVsc2Ugew0KICAgIG5ld1VSTCA9IG9yaWdpbjsNCn0NCg0Kb3Mub3BlblVSTChuZXdVUkwpOycA6tuYiAcADmFiQ29yZU1lbnVJY29uAgQA6tuYiAeVAgdhZGRfYm94JwDq25iIBwAPYWJDb3JlTWVudUxhYmVsAgQA6tuYiAedAghuZXcgaW5zdCcA6tuYiAcACmFiSURPcmlnaW4CBADq25iIB6YCDmVyQ2hhbm5lbFNraWxsJwDq25iIBwAKYWJJRFN0dWRpbwIEAOrbmIgHtQIkODQzNDhmNjAtMmE0Yy00MGViLTg5ZGYtMGEzMjIzMzI3YjRlJwDq25iIBwAJYWJWZXJzaW9uAgQA6tuYiAfaAgQxMC42JwDq25iIBwAEZm9ybQIEAOrbmIgH3wIHbm90aGluZygA6tuYiAcABWhvbWVYAX0AKADq25iIBwAFaG9tZVkBfUQoAOrbmIgHAAVob21lWgF9ACcA6tuYiAcABnN5c3RlbQIEAOrbmIgH6gIUYWIuY2hhbm5lbC5pbnN0TWFrZXInAOrbmIgHAAhhYklnbm9yZQIEAOrbmIgH/wIEdHJ1ZScBBGJvdHMkNjkxOWU5MmQtYjQxMS00ZDU4LThiY2QtNjBmZTgwY2ZlZGEzAScA6tuYiAeEAwlhYkNoYW5uZWwCBADq25iIB4UDBHRydWUnAOrbmIgHhAMKYWJJRE9yaWdpbgIEAOrbmIgHigMOZXJDaGFubmVsU2tpbGwnAOrbmIgHhAMKYWJJRFN0dWRpbwIEAOrbmIgHmQMkODQzNDhmNjAtMmE0Yy00MGViLTg5ZGYtMGEzMjIzMzI3YjRlJwDq25iIB4QDCWFiVmVyc2lvbgIEAOrbmIgHvgMEMTAuNicA6tuYiAeEAwpjb250ZXh0TWFwAgQA6tuYiAfDA6sB8J+nrHsNCiAgICAiZGVmYXVsdCI6IHsNCiAgICAgICAgInN0dWRpbyI6ICJBQiIsDQogICAgICAgICJwYXR0ZXJuIjogImNhc3VhbFR1dG9yaWFsIiwNCiAgICAgICAgImJpb3MiOiAiZnJlZSIsDQogICAgICAgICJpbnN0IjogbnVsbCwNCiAgICAgICAgInNpZGVsb2FkIjogZmFsc2UNCiAgICB9DQp9JwDq25iIB4QDDWNvbnRleHRQaWNrZXICBADq25iIB+0EuARAaWYgKHRhZ3Muc3lzdGVtID09ICJhYi5jaGFubmVsLmxhdW5jaGVyIikgew0KICAgIHJldHVybjsNCn0NCg0KY29uc3QgY29udGV4dE1hcCA9IHRhZ3MuY29udGV4dE1hcDsNCg0KY29uc3Qgc2VsZWN0ZWRDb250ZXh0ID0gImRlZmF1bHQiOw0KDQpjb25zdCBjb250ZXh0RGF0YSA9IGNvbnRleHRNYXBbc2VsZWN0ZWRDb250ZXh0XTsNCg0KY29uc3QgdGFyZ2V0UGF0dGVybiA9IGNvbnRleHREYXRhLnBhdHRlcm47DQpjb25zdCB0YXJnZXRTdHVkaW8gPSBjb250ZXh0RGF0YS5kYXRhLnN0dWRpbzsNCg0KaWYgKGdldEJvdHMoImFiSURPcmlnaW4iLCB0YXJnZXRQYXR0ZXJuKS5sZW5ndGggIT0gMCkgew0KICAgIHJldHVybjsNCn0NCg0KaWYgKHRhcmdldFN0dWRpbyA9PSAiQUIiKQ0Kew0KICAgIGF3YWl0IGxpbmtzLmxlYXJuLmFiQWRhcHQodGFyZ2V0UGF0dGVybik7DQogICAgc2hvdXQoIm9uQUJJbml0aWFsaXplZCIpOw0KDQp9IGVsc2Ugew0KICAgIHNob3V0KCJoYXRjaCIsIHthYklEOiB0YXJnZXRQYXR0ZXJuLCByZWNvcmRLZXk6IHRhcmdldFN0dWRpbywgYXV0b0hhdGNoOiB0cnVlfSk7DQp9JwDq25iIB4QDBGZvcm0CBADq25iIB6YJB25vdGhpbmcoAOrbmIgHhAMFaG9tZVkBfUcoAOrbmIgHhAMFaG9tZVoBfQAnAOrbmIgHhAMHb25DbGljawIEAOrbmIgHsAk4QHNob3V0KCJsb2FkUGVyc29uYWxDaGFubmVsIik7DQp0aGlzQm90LmNvbnRleHRQaWNrZXIoKTsnAOrbmIgHhAMIb25DcmVhdGUCBADq25iIB+kJKEBjb25zb2xlLmxvZygiQ2hhbm5lbCBMYXVuY2hlciBMb2FkZWQiKTsnAOrbmIgHhAMPb25JbnN0U3RyZWFtaW5nAgQA6tuYiAeSChlAdGhpc0JvdC5jb250ZXh0UGlja2VyKCk7JwDq25iIB4QDBnN5c3RlbQIEAOrbmIgHrAoTYWIuY2hhbm5lbC5sYXVuY2hlcicA6tuYiAeEAwhhYklnbm9yZQIEAOrbmIgHwAoEdHJ1ZScBBGJvdHMkYTliNmFhMGQtYjM1Ny00ZGU2LTliZWYtODUzNDhhYjFkMGUwAScA6tuYiAfFCglhYkNoYW5uZWwCBADq25iIB8YKBHRydWUnAOrbmIgHxQoQYWJDaGFubmVsVmVyc2lvbgIEAOrbmIgHywoBMScA6tuYiAfFCgphYklET3JpZ2luAgQA6tuYiAfNCg5lckNoYW5uZWxTa2lsbCcA6tuYiAfFCgphYklEU3R1ZGlvAgQA6tuYiAfcCiQ4NDM0OGY2MC0yYTRjLTQwZWItODlkZi0wYTMyMjMzMjdiNGUnAOrbmIgHxQoJYWJWZXJzaW9uAgQA6tuYiAeBCwQxMC42JwDq25iIB8UKDWFjdGl2ZUNoYW5uZWwCBADq25iIB4YLBWZhbHNlJwDq25iIB8UKA2FzawIEAOrbmIgHjAso8J+Ul2VjODVjMWQ2LTlmMWEtNDBkNC04MmUxLTViZDY4MDM0OWMyNycA6tuYiAfFCg1jcmVhdGVDaGFubmVsAgQA6tuYiAezC8sOQGxldCB7DQogICAgY2hhbm5lbElELA0KICAgIHBhdHRlcm5TZXR0aW5nLA0KICAgIHN0dWRpb1NldHRpbmcsDQogICAgYmlvc1NldHRpbmdzLA0KICAgIHNpZGVsb2FkU2V0dGluZywNCiAgICBpbnN0U2V0dGluZw0KfSA9IHRoYXQ7DQoNCi8vUEFDS0FHRSBUSElOR1MNCi8vY2hlY2sgaWYgY2hhbm5lbCBleGlzdHMNCmNvbnN0IGNoYW5uZWxDaGVjayA9IGF3YWl0IG9zLmdldFBhY2thZ2VDb250YWluZXIoYXV0aEJvdC5pZCwgY2hhbm5lbElEKTsNCg0KLy9NYWtlIGNoYW5uZWwgaWYgaXQgZG9lcyBub3QgZXhpc3QNCmlmIChjaGFubmVsQ2hlY2suc3VjY2VzcyA9PSBmYWxzZSkgew0KICAgIGlmICghYXV0aEJvdCkgew0KICAgICAgICBhd2FpdCBvcy5yZXF1ZXN0QXV0aEJvdEluQmFja2dyb3VuZCgpOw0KICAgIH0gDQogICAgDQogICAgYXdhaXQgb3MuZ3JhbnRJbnN0QWRtaW5QZXJtaXNzaW9uKGF1dGhCb3QuaWQpOw0KICAgIGF3YWl0IG9zLnJlY29yZFBhY2thZ2VDb250YWluZXIoYXV0aEJvdC5pZCwgY2hhbm5lbElEKTsNCg0KICAgIGNvbnN0IGxhdW5jaGVyQm90ID0gYXdhaXQgY3JlYXRlKGxpbmtzLmxhdW5jaGVyLCB7DQogICAgICAgICdhYklnbm9yZSc6IG51bGwsDQogICAgICAgICdzeXN0ZW0nOiAiY2hhbm5lbHMubGF1bmNoZXJzLiIgKyBjaGFubmVsSUQsDQogICAgICAgICdjaGFubmVsSUQnOiBjaGFubmVsSUQsDQogICAgICAgICdjaGFubmVsVmVyc2lvbic6IG9zLnBhcnNlVmVyc2lvbktleSgnMS4wLjAnKQ0KICAgIH0pOw0KICAgIA0KICAgIGxhdW5jaGVyQm90LnRhZ3MuY29udGV4dE1hcFsiZGVmYXVsdCJdID0gew0KICAgICAgICAic3R1ZGlvIjogc3R1ZGlvU2V0dGluZywNCiAgICAgICAgInBhdHRlcm4iOiBwYXR0ZXJuU2V0dGluZywNCiAgICAgICAgImJpb3MiOiBiaW9zU2V0dGluZ3MsDQogICAgICAgICJpbnN0IjogaW5zdFNldHRpbmcgfHwgbnVsbCwNCiAgICAgICAgInNpZGVsb2FkIjogc2lkZWxvYWRTZXR0aW5nDQogICAgfQ0KDQogICAgYXdhaXQgb3MucmVjb3JkUGFja2FnZVZlcnNpb24oew0KICAgICAgICByZWNvcmROYW1lOiBhdXRoQm90LmlkLA0KICAgICAgICBhZGRyZXNzOiBjaGFubmVsSUQsDQogICAgICAgIGtleTogbGF1bmNoZXJCb3QudGFncy5jaGFubmVsVmVyc2lvbiwNCiAgICAgICAgZGVzY3JpcHRpb246ICdjaGFubmVsICcgKyBjaGFubmVsSUQsDQogICAgICAgIGVudGl0bGVtZW50czogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGZlYXR1cmU6ICdkYXRhJywNCiAgICAgICAgICAgICAgICBzY29wZTogJ3NoYXJlZCcsDQogICAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIGJvdHM6IFtsYXVuY2hlckJvdF0sDQogICAgfSkNCg0KICAgIGRlc3Ryb3kobGF1bmNoZXJCb3QpOw0KDQogICAgLy9QdWJsaXNoIGFzayBzbyB0aGF0IGV2ZXJ5Ym9keSBjYW4gc2VlIGl0DQogICAgY29uc3QgYXNrSURSZWNvcmQgPSBhd2FpdCBzaG91dCgiYWJQdWJsaXNoQXNrSUQiLCB7YXNrSUQ6IGNoYW5uZWxJRCwgcGF0dGVybklEOiBjaGFubmVsSUQsIHN0dWRpb0lEOiBhdXRoQm90LmlkfSlbMF07DQogICAgaWYgKGFza0lEUmVjb3JkLnN1Y2Nlc3MpIHsNCiAgICAgICAgY29uc29sZS5sb2coImFza0lEIHVwZGF0ZWQiKTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJhc2tJRCBwdWJsaXNoIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbiIpOw0KICAgIH0NCg0KICAgIHJldHVybjsNCn0gZWxzZSBpZiAoY2hhbm5lbENoZWNrLnN1Y2Nlc3MgPT0gdHJ1ZSkgew0KICAgIG9zLnRvYXN0KCJDaGFubmVsIGFscmVhZHkgZXhpc3RzLCBjaG9vc2UgbmV3IGNoYW5uZWwgaWQiKTsNCn0NCg0KcmV0dXJuOycA6tuYiAfFCgRmb3JtAgQA6tuYiAf/GQdub3RoaW5nKADq25iIB8UKBWhvbWVYAX1IKADq25iIB8UKBWhvbWVZAX0HKADq25iIB8UKBWhvbWVaAX0AJwDq25iIB8UKC2luaXRpYWxCb290AgQA6tuYiAeKGgR0cnVlJwDq25iIB8UKCGxhdW5jaGVyAgQA6tuYiAePGijwn5SXNjkxOWU5MmQtYjQxMS00ZDU4LThiY2QtNjBmZTgwY2ZlZGEzJwDq25iIB8UKBWxlYXJuAgQA6tuYiAe2Gijwn5SXNjY1N2I4NjUtZTk4My00NDAxLTlmYzktZjU0MThkMThhN2Y3JwDq25iIB8UKC2xvYWRDaGFubmVsAgQA6tuYiAfdGvEYQC8vVE9ETzogQ2hhbmdlIGFzayB0byByZWRpcmVjdCB0byB0aGlzIGZ1bmN0aW9uIGZvciBjaGFubmVscw0KDQpjb25zdCBpbnN0YWxsZWRQYWNrYWdlcyA9IGF3YWl0IG9zLmxpc3RJbnN0YWxsZWRQYWNrYWdlcygpOw0KY29uc3QgY2hhbm5lbENvbnRhaW5lciA9IGF3YWl0IG9zLmdldFBhY2thZ2VDb250YWluZXIodGhhdC5kYXRhLnN0dWRpb0lELCB0aGF0LmRhdGEucGF0dGVybklEKTsNCmNvbnN0IHBhY2thZ2VJbnN0YWxsZWQgPSBpbnN0YWxsZWRQYWNrYWdlcy5wYWNrYWdlcy5maW5kKChwYWNrYWdlSXRlbSkgPT4gY2hhbm5lbENvbnRhaW5lci5pdGVtLmlkID09IHBhY2thZ2VJdGVtLnBhY2thZ2VJZCk7DQoNCi8vTG9hZCBjaGFubmVsIGlmIG5vdCBhbHJlYWR5IGxvYWRlZA0KaWYgKCFwYWNrYWdlSW5zdGFsbGVkKSB7DQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcy5pbnN0YWxsUGFja2FnZSh0aGF0LmRhdGEuc3R1ZGlvSUQsIHRoYXQuZGF0YS5wYXR0ZXJuSUQpOw0KICAgIGNvbnN0IGxhdW5jaGVyQm90ID0gZ2V0Qm90KCJzeXN0ZW0iLCAiY2hhbm5lbHMubGF1bmNoZXJzLiIgKyB0aGF0LmRhdGEucGF0dGVybklEKTsNCiAgICB3aGlzcGVyKGxhdW5jaGVyQm90LCAiY29udGV4dFBpY2tlciIpOw0KICAgIGNvbnNvbGUubG9nKCJDaGFubmVsIExvYWRlZDoiLCByZXNwb25zZSk7DQp9DQoNCg0KLy9UT0RPOiBwaW5nIGxhdW5jaGVyIHRvIHdvcmsgdGhyb3VnaCBsb2FkaW5nIHRoZSBpbnN0PyANCg0KDQovLyBjb25zdCBjaGFubmVsTmFtZSA9IHRoYXQuZGF0YS5wYXR0ZXJuSUQucmVwbGFjZUFsbCgiLSIsICIiKTsNCg0KLy8gbGV0IG5ld0RlcGxveW1lbnQgPSBmYWxzZTsNCg0KLy8gLy9JZiB0aGVyZSBpcyBhIGNoYW5uZWwgYWxyZWFkeSBsb2FkZWQNCi8vIGlmICh0YWdzLmFjdGl2ZUNoYW5uZWwpDQovLyB7DQovLyAgICAgcmV0dXJuOw0KLy8gfQ0KLy8gc2V0VGFnTWFzayh0aGlzQm90LCAiYWN0aXZlQ2hhbm5lbCIsIGNoYW5uZWxOYW1lLCAic2hhcmVkIik7DQoNCi8vIGlmIChjb25maWd1cmF0aW9uRGF0YS5kYXRhLmJpb3MpDQovLyB7DQovLyAgICAgY29uc3QgdGFyZ2V0QmlvcyA9IGNvbmZpZ3VyYXRpb25EYXRhLmRhdGEuYmlvczsNCg0KLy8gICAgIHN3aXRjaCAodGFyZ2V0QmlvcykgDQovLyAgICAgew0KLy8gICAgICAgICBjYXNlICJsb2NhbCI6DQovLyAgICAgICAgICAgICBpZiAoY29uZmlnQm90LnRhZ3Muc3RhdGljSW5zdCA9PSBudWxsKQ0KLy8gICAgICAgICAgICAgew0KLy8gICAgICAgICAgICAgICAgIG5ld0RlcGxveW1lbnQgPSB0cnVlOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICBicmVhazsNCi8vICAgICAgICAgY2FzZSAic3R1ZGlvIjoNCi8vICAgICAgICAgICAgIGlmIChjb25maWdCb3QudGFncy5vd25lciA9PSBudWxsIHx8IGNvbmZpZ0JvdC50YWdzLm93bmVyID09ICJwdWJsaWMiKQ0KLy8gICAgICAgICAgICAgew0KLy8gICAgICAgICAgICAgICAgIG5ld0RlcGxveW1lbnQgPSB0cnVlOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICBicmVhazsNCi8vICAgICAgICAgY2FzZSAiZnJlZSI6DQovLyAgICAgICAgICAgICBpZiAoY29uZmlnQm90LnRhZ3Mub3duZXIgIT0gInB1YmxpYyIpDQovLyAgICAgICAgICAgICB7DQovLyAgICAgICAgICAgICAgICAgbmV3RGVwbG95bWVudCA9IHRydWU7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIGJyZWFrOw0KLy8gICAgIH0NCi8vIH0NCg0KLy8gaWYgKGNvbmZpZ3VyYXRpb25EYXRhLmRhdGEuZWdnKQ0KLy8gew0KLy8gICAgIGNvbnN0IHRhcmdldFBhdHRlcm4gPSBjb25maWd1cmF0aW9uRGF0YS5kYXRhLmVnZy5wYXR0ZXJuOw0KLy8gICAgIGNvbnN0IHRhcmdldFN0dWRpbyA9IGNvbmZpZ3VyYXRpb25EYXRhLmRhdGEuZWdnLnN0dWRpbzsNCg0KLy8gICAgIGlmICh0YXJnZXRTdHVkaW8gPT0gIkFCIikNCi8vICAgICB7DQovLyAgICAgICAgIGF3YWl0IGxpbmtzLmxlYXJuLmFiQWRhcHQodGFyZ2V0UGF0dGVybik7DQovLyAgICAgICAgIHNob3V0KCJvbkFCSW5pdGlhbGl6ZWQiKTsNCg0KLy8gICAgIH0gZWxzZSB7DQovLyAgICAgICAgIHNob3V0KCJoYXRjaCIsIHthYklEOiB0YXJnZXRQYXR0ZXJuLCByZWNvcmRLZXk6IHRhcmdldFN0dWRpbywgYXV0b0hhdGNoOiB0cnVlfSk7DQovLyAgICAgfQ0KLy8gfQ0KDQovLyBpZiAoY29uZmlndXJhdGlvbkRhdGEuZGF0YS5ncmlkQ29sb3IpDQovLyB7DQovLyAgICAgbGlua3MucmVtZW1iZXIudGFncy5hYkJhc2VHcmlkUG9ydGFsQ29sb3IgPSBjb25maWd1cmF0aW9uRGF0YS5kYXRhLmdyaWRDb2xvcjsNCg0KLy8gICAgIGdyaWRQb3J0YWxCb3QudGFncy5wb3J0YWxDb2xvciA9IGNvbmZpZ3VyYXRpb25EYXRhLmRhdGEuZ3JpZENvbG9yOw0KLy8gfQ0KDQovLyBpZiAoY29uZmlndXJhdGlvbkRhdGEuZGF0YS5pbnN0ICYmIGNvbmZpZ0JvdC50YWdzLmluc3QgIT0gY29uZmlndXJhdGlvbkRhdGEuZGF0YS5pbnN0KQ0KLy8gew0KLy8gICAgIG5ld0RlcGxveW1lbnQgPSB0cnVlOw0KLy8gfQ0KDQovLyAvLyBpZiAodGhhdC5kYXRhLnBhdHRlcm5JRCA9PSBhdXRoQm90LmlkKSB7DQovLyAvLyAgICAgbmV3RGVwbG95bWVudCA9IGZhbHNlOw0KLy8gLy8gfQ0KDQovLyBpZiAobmV3RGVwbG95bWVudCkNCi8vIHsNCi8vICAgICBjb25zdCBzaXRlT3JpZ2luID0gbmV3IFVSTChjb25maWdCb3QudGFncy51cmwpLm9yaWdpbjsNCi8vICAgICBjb25zdCB0YXJnZXRJbnN0ID0gY29uZmlndXJhdGlvbkRhdGEuZGF0YS5pbnN0ID8gIiZpbnN0PSIgKyBjb25maWd1cmF0aW9uRGF0YS5kYXRhLmluc3QgOiAiIjsNCi8vICAgICBjb25zdCB0YXJnZXRCaW9zID0gY29uZmlndXJhdGlvbkRhdGEuZGF0YS5iaW9zID8gIiZiaW9zPSIgKyBjb25maWd1cmF0aW9uRGF0YS5kYXRhLmJpb3MgOiAiIjsNCi8vICAgICBjb25zdCB0YXJnZXRQYXR0ZXJuID0gY29uZmlnQm90LnRhZ3MucGF0dGVybiA/ICImcGF0dGVybj0iICsgY29uZmlnQm90LnRhZ3MucGF0dGVybiA6ICIiOw0KLy8gICAgIGNvbnN0IHRhcmdldFVSTCA9IHNpdGVPcmlnaW4gKyBgLz9jaGFubmVsPSR7Y2hhbm5lbE5hbWV9JHt0YXJnZXRQYXR0ZXJufSR7dGFyZ2V0SW5zdH0ke3RhcmdldEJpb3N9YDsNCg0KLy8gICAgIG9zLmdvVG9VUkwodGFyZ2V0VVJMKTsNCi8vIH0nAOrbmIgHxQoTbG9hZFBlcnNvbmFsQ2hhbm5lbAIEAOrbmIgHzzPOCEBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMKGNvbmZpZ0JvdC50YWdzLnVybCkuc2VhcmNoUGFyYW1zOw0KaWYgKCF1cmxQYXJhbXMuaGFzKCJjaGFubmVsIikpIHsNCg0KICAgIC8vbWFrZSBzdXJlIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbg0KICAgIGF3YWl0IG9zLnJlcXVlc3RBdXRoQm90SW5CYWNrZ3JvdW5kKCk7DQoNCiAgICBpZiAoIWF1dGhCb3QpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGNvbnN0IGNoYW5uZWxJRCA9ICdAJyArIGF1dGhCb3QuaWQ7DQoNCiAgICBhd2FpdCB0aGlzQm90LmNyZWF0ZUNoYW5uZWwoew0KICAgICAgICAnY2hhbm5lbElEJzogY2hhbm5lbElELA0KICAgICAgICAncGF0dGVyblNldHRpbmcnOiAiY2FzdWFsVHV0b3JpYWwiLA0KICAgICAgICAnc3R1ZGlvU2V0dGluZyc6ICJBQiIsDQogICAgICAgICdiaW9zU2V0dGluZ3MnOiAiZnJlZSIsDQogICAgICAgICdzaWRlbG9hZFNldHRpbmcnOiAidHJ1ZSIsDQogICAgICAgICdpbnN0U2V0dGluZyc6IG51bGwNCiAgICB9KTsNCg0KICAgIC8vQ2hlY2sgaWYgcGVyc29uYWwgY2hhbm5lbCBhbHJlYWR5IGxvYWRlZA0KICAgIGNvbnN0IGluc3RhbGxlZFBhY2thZ2VzID0gYXdhaXQgb3MubGlzdEluc3RhbGxlZFBhY2thZ2VzKCk7DQogICAgY29uc3QgcGVyc29uYWxDaGFubmVsQ29udGFpbmVyID0gYXdhaXQgb3MuZ2V0UGFja2FnZUNvbnRhaW5lcihhdXRoQm90LmlkLCBhdXRoQm90LmlkKTsNCiAgICBjb25zdCBwYWNrYWdlSW5zdGFsbGVkID0gaW5zdGFsbGVkUGFja2FnZXMucGFja2FnZXMuZmluZCgocGFja2FnZUl0ZW0pID0+IHBlcnNvbmFsQ2hhbm5lbENvbnRhaW5lci5pdGVtLmlkID09IHBhY2thZ2VJdGVtLnBhY2thZ2VJZCk7DQoNCiAgICAvL0xvYWQgcGVyc29uYWwgY2hhbm5lbCBpZiBub3QgYWxyZWFkeSBsb2FkZWQNCiAgICBpZiAoIXBhY2thZ2VJbnN0YWxsZWQpIHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcy5pbnN0YWxsUGFja2FnZShhdXRoQm90LmlkLCBhdXRoQm90LmlkKTsNCiAgICAgICAgY29uc29sZS5sb2coIlBhY2thZ2UgSW5zdGFsbGVkOiIsIHJlc3BvbnNlKTsNCiAgICB9DQp9DQoNCnJldHVybjsnAOrbmIgHxQoIcmVtZW1iZXICBADq25iIB548KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAOrbmIgHxQoGc3lzdGVtAgQA6tuYiAfFPBFhYi5jaGFubmVsLmxvYWRlcicA6tuYiAfFCgtzYXZlQ2hhbm5lbAIEAOrbmIgH1zz0BkBjb25zdCBjaGFubmVsSUQgPSB0aGF0Ow0KaWYgKCFjaGFubmVsSUQpIHsNCiAgICByZXR1cm47DQp9DQpjb25zdCBjaGFubmVsQ2hlY2sgPSBhd2FpdCBvcy5nZXRQYWNrYWdlQ29udGFpbmVyKGF1dGhCb3QuaWQsIGNoYW5uZWxJRCk7DQoNCi8vTWFrZSBjaGFubmVsIGlmIGl0IGRvZXMgbm90IGV4aXN0DQppZiAoY2hhbm5lbENoZWNrLnN1Y2Nlc3MgPT0gZmFsc2UpIHsNCiAgICBpZiAoIWF1dGhCb3QpIHsNCiAgICAgICAgYXdhaXQgb3MuZ3JhbnRJbnN0QWRtaW5QZXJtaXNzaW9uKGF1dGhCb3QuaWQpOw0KICAgIH0NCiAgICBhd2FpdCBvcy5yZWNvcmRQYWNrYWdlQ29udGFpbmVyKGF1dGhCb3QuaWQsIGNoYW5uZWxJRCk7DQoNCiAgICBjb25zdCBsYXVuY2hlckJvdCA9IGdldEJvdCgic3lzdGVtIiwgJ2NoYW5uZWxzLmxhdW5jaGVyLicgKyBjaGFubmVsSUQpOw0KICAgIGxhdW5jaGVyQm90LnRhZ3MuY2hhbm5lbFZlcnNpb24/Lm1pbm9yICs9IDE7DQoNCiAgICBhd2FpdCBvcy5yZWNvcmRQYWNrYWdlVmVyc2lvbih7DQogICAgICAgIHJlY29yZE5hbWU6IGF1dGhCb3QuaWQsDQogICAgICAgIGFkZHJlc3M6IGNoYW5uZWxJRCwNCiAgICAgICAga2V5OiBsYXVuY2hlckJvdC50YWdzLmNoYW5uZWxWZXJzaW9uLA0KICAgICAgICBkZXNjcmlwdGlvbjogJ2NoYW5uZWwgJyArIGNoYW5uZWxJRCwNCiAgICAgICAgZW50aXRsZW1lbnRzOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZmVhdHVyZTogJ2RhdGEnLA0KICAgICAgICAgICAgICAgIHNjb3BlOiAnc2hhcmVkJywNCiAgICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgYm90czogW2xhdW5jaGVyQm90XSwNCiAgICB9KQ0KDQogICAgZGVzdHJveShsYXVuY2hlckJvdCk7DQp9JwDq25iIB8UKCGFiSWdub3JlAgQA6tuYiAfMQwR0cnVlAA=="}]}