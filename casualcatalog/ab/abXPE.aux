{"version":2,"updates":[{"id":0,"timestamp":1771645670046,"update":"AU+cisCSCQAnAQRib3RzJDY2YzljN2RmLWQ4NDItNGJhNC04ZWM1LTBkNDk1ZWVmMWQwYwEnAJyKwJIJAAZzeXN0ZW0CBACcisCSCQEKYWIueHBlLmd1aScAnIrAkgkAA0FwcAIEAJyKwJIJDJQMQGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9ID0gb3MuYXBwSG9va3M7Cgpjb25zdCBDcmVkaXREaXNwbGF5ID0gdGhpc0JvdC5DcmVkaXREaXNwbGF5KCk7CiAgICAgICAgCmNvbnN0IEFwcCA9ICgpID0+IHsKICAgIGNvbnN0IFtjcmVkaXRzLCBzZXRDcmVkaXRzXSA9IHVzZVN0YXRlKCk7CiAgICBjb25zdCBbaWNvbiwgc2V0SWNvbl0gPSB1c2VTdGF0ZSgpOwogICAgY29uc3QgY3JlZGl0RGlzcGxheVJlZiA9IHVzZVJlZihudWxsKTsKCiAgICAvLyBvbiBtb3VudAogICAgdXNlRWZmZWN0KGFzeW5jICgpID0+IHsKICAgICAgICAvLyBHcmFiIGN1cnJlbnQgY3JlZGl0cyBhbW91bnQuCiAgICAgICAgY29uc3QgY3VyQ3JlZGl0cyA9IGF3YWl0IGFiWFBFLmdldENyZWRpdHMoKTsKICAgICAgICBzZXRDcmVkaXRzKGN1ckNyZWRpdHMpOwoKICAgICAgICAvLyBTZXQgdGhlIGljb24gdXJsIGZyb20gY2F0YWxvZy4KICAgICAgICBpZiAodGFncy5jcmVkaXRJY29uKSB7CiAgICAgICAgICAgIGNvbnN0IGljb25VUkwgPSBhd2FpdCBhYi5hYkJ1aWxkQ2FzdWFsQ2F0YWxvZ1VSTCh0YWdzLmNyZWRpdEljb24pOwogICAgICAgICAgICBzZXRJY29uKGljb25VUkwpCiAgICAgICAgfQoKICAgICAgICAvLyBMaXN0ZW4gdG8gd2hlbiBwYXlvdXRzIG9jY3VyLgogICAgICAgIG9zLmFkZEJvdExpc3RlbmVyKHRoaXNCb3QsICdvbkFCWFBFUGFpZE91dCcsIGFzeW5jIChsaXN0ZW5lclRoYXQpID0+IHsKICAgICAgICAgICAgY29uc3QgeyBwYXlBbW91bnQsIGN1ckNyZWRpdHMgfSA9IGxpc3RlbmVyVGhhdDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldENyZWRpdHMoY3VyQ3JlZGl0cyk7CiAgICAgICAgICAgIGFiLmxpbmtzLnNvdW5kLmFiUGxheVNvdW5kKHsgdmFsdWU6ICdhYi9hdWRpby9wdXJjaGFzZS5tcDMnIH0pOwogICAgICAgIH0pCiAgICB9LCBbXSkKCiAgICBjb25zdCBvbkNyZWRpdERpc3BsYXlDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IG9zLmdldFJlY29yZHNFbmRwb2ludCgpOwogICAgICAgIG9zLm9wZW5VUkwoZW5kcG9pbnQpOwogICAgfSwgW10pOwoKICAgIHJldHVybiAoCiAgICAgICAgPD4KICAgICAgICAgICAgPHN0eWxlPnt0YWdzWydzdHlsZS5jc3MnXX08L3N0eWxlPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWIteHBlLWd1aSc+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9wLXJpZ2h0Jz4KICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0cyAhPSBudWxsICYmIAogICAgICAgICAgICAgICAgICAgICAgICA8Q3JlZGl0RGlzcGxheSBpY29uPXtpY29ufSBhbW91bnQ9e2NyZWRpdHN9IGFuaW1hdGU9e3RydWV9IG9uQ2xpY2s9e29uQ3JlZGl0RGlzcGxheUNsaWNrfSByZWY9e2NyZWRpdERpc3BsYXlSZWZ9IC8+CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvPgogICAgKQp9CgpyZXR1cm4gQXBwOwonAJyKwJIJAAVtb3VudAIEAJyKwJIJoQzUAUBpZiAoIXRoaXNCb3QudmFycy5hcHBJbnN0YW5jZSkgewogICAgdGhpc0JvdC52YXJzLmFwcEluc3RhbmNlID0gdGhpc0JvdC5BcHAoKTsKICAgIGF3YWl0IG9zLnJlZ2lzdGVyQXBwKHRhZ3Muc3lzdGVtLCB0aGlzQm90KTsKCiAgICBjb25zdCBBcHAgPSB0aGlzQm90LnZhcnMuYXBwSW5zdGFuY2U7CiAgICBvcy5jb21waWxlQXBwKHRhZ3Muc3lzdGVtLCA8QXBwLz4pCn0KJwCcisCSCQAHdW5tb3VudAIEAJyKwJIJ9g24AkBpZiAodGhpc0JvdC52YXJzLmFwcEluc3RhbmNlKSB7CiAgICBkZWxldGUgdGhpc0JvdC52YXJzLmFwcEluc3RhbmNlOwoKICAgIC8vIENvbXBpbGluZyB0aGUgYXBwIHdpdGggYW4gZW1wdHkgcm9vdCB2YWx1ZSBpcyBhIHdvcmthcm91bmQgdGhhdCBhbGxvd3MgdGhlCiAgICAvLyBwcmV2aW91cyBjb21wb25lbnRzIHRvIHBlcmZvcm0gdGhlaXIgdW5tb3VudGluZyBjb2RlIHByb3Blcmx5LgogICAgYXdhaXQgb3MuY29tcGlsZUFwcCh0YWdzLnN5c3RlbSwgPD48Lz4pOwoKICAgIGF3YWl0IG9zLnVucmVnaXN0ZXJBcHAodGFncy5zeXN0ZW0pOwp9CicAnIrAkgkACXN0eWxlLmNzcwIEAJyKwJIJrxDGCS5hYi14cGUtZ3VpIHsKfQoKLmFiLXhwZS1ndWkgLnRvcC1yaWdodCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDEuMjVyZW07CiAgICByaWdodDogMC41cmVtOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cn0KCi5jcmVkaXQtZGlzcGxheSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDAuNnJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzIGVhc2Utb3V0OwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgY2VudGVyOwp9CgouY3JlZGl0LWRpc3BsYXkgaW1nIHsKICAgIHdpZHRoOiAycmVtOwp9CgouY3JlZGl0LWRpc3BsYXkgc3BhbiB7CiAgICBtYXJnaW4tbGVmdDogMC41cmVtOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKfQoKLmNyZWRpdC1mbG9hdCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDEwMCU7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgYW5pbWF0aW9uOiBjcmVkaXQtZmxvYXQtYW5pbSAycyBlYXNlLW91dCBmb3J3YXJkczsKfQoKQGtleWZyYW1lcyBjcmVkaXQtZmxvYXQtYW5pbSB7CiAgICAwJSB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgwKTsKICAgIH0KICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoM3JlbSk7CiAgICB9Cn0KCi5jcmVkaXQtcHVsc2UgeyAKICAgIGFuaW1hdGlvbjogY3JlZGl0LXB1bHNlLWFuaW0gMC41cyBlYXNlLW91dDsKfQoKQGtleWZyYW1lcyBjcmVkaXQtcHVsc2UtYW5pbSB7CiAgICAwJSAgIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfQogICAgMjIlICB7IHRyYW5zZm9ybTogc2NhbGUoMS4zMyk7IH0KICAgIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9Cn0nAJyKwJIJAAlvbkRlc3Ryb3kCBACcisCSCfYZE0B0aGlzQm90LnVubW91bnQoKTsoAJyKwJIJAAVob21lWAF9ACgAnIrAkgkABWhvbWVZAX0DJwCcisCSCQASb25BQlhQRUluaXRpYWxpemVkAgQAnIrAkgmMGhFAdGhpc0JvdC5tb3VudCgpOycAnIrAkgkABWFiWFBFAgQAnIrAkgmeGgR0cnVlJwCcisCSCQAIYWJJZ25vcmUCBACcisCSCaMaBHRydWUnAJyKwJIJAARmb3JtAgQAnIrAkgmoGgdub3RoaW5nJwCcisCSCQAFdHlwZXMCBACcisCSCbAaBPCfk4QnAJyKwJIJAA1DcmVkaXREaXNwbGF5AgQAnIrAkgmzGtYUQGNvbnN0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gPSBvcy5hcHBIb29rczsKCmludGVyZmFjZSBDcmVkaXREaXNwbGF5UHJvcHMgewogICAgYW1vdW50OiBudW1iZXI7CiAgICBpY29uOiBzdHJpbmc7CiAgICBhbmltYXRlPzogYm9vbGVhbjsKICAgIG9uQ2xpY2s/OiAoKSA9PiB2b2lkOwp9CgppbnRlcmZhY2UgRmxvYXRpbmdOdW1iZXIgewogICAgaWQ6IG51bWJlcjsKICAgIHZhbHVlOiBudW1iZXI7Cn0KCmZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0OiBudW1iZXIpIHsKICAgIHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHQsIDMpOwp9CgpsZXQgZmxvYXRJZCA9IDA7Cgpjb25zdCBGTE9BVFNfVElNRU9VVF9NUyA9IDIwMDA7CmNvbnN0IFBVTFNFX1RJTUVPVVRfTVMgPSA1MDA7Cgpjb25zdCBDcmVkaXREaXNwbGF5ID0gKHsKICAgIGFtb3VudCwKICAgIGljb24sCiAgICBhbmltYXRlID0gZmFsc2UsCiAgICBvbkNsaWNrCn06IENyZWRpdERpc3BsYXlQcm9wcykgPT4gewogICAgY29uc3QgW2Rpc3BsYXlBbW91bnQsIHNldERpc3BsYXlBbW91bnRdID0gdXNlU3RhdGUoYW1vdW50KTsKICAgIGNvbnN0IFtwdWxzZSwgc2V0UHVsc2VdID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2Zsb2F0cywgc2V0RmxvYXRzXSA9IHVzZVN0YXRlPEZsb2F0aW5nTnVtYmVyW10+KFtdKTsKICAgIGNvbnN0IHByZXZBbW91bnRSZWYgPSB1c2VSZWYoYW1vdW50KTsKICAgIGNvbnN0IGFuaW1GcmFtZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IGZyb20gPSBwcmV2QW1vdW50UmVmLmN1cnJlbnQ7CiAgICAgICAgY29uc3QgdG8gPSBhbW91bnQ7CiAgICAgICAgcHJldkFtb3VudFJlZi5jdXJyZW50ID0gYW1vdW50OwoKICAgICAgICBpZiAoIWFuaW1hdGUgfHwgZnJvbSA9PT0gdG8pIHsKICAgICAgICAgICAgc2V0RGlzcGxheUFtb3VudCh0byk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHNldFB1bHNlKHRydWUpOwoKICAgICAgICBjb25zdCBkaWZmID0gdG8gLSBmcm9tOwogICAgICAgIGNvbnN0IGlkID0gKytmbG9hdElkOwogICAgICAgIHNldEZsb2F0cyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkLCB2YWx1ZTogZGlmZiB9XSk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHNldEZsb2F0cyhwcmV2ID0+IHByZXYuZmlsdGVyKGYgPT4gZi5pZCAhPT0gaWQpKTsKICAgICAgICB9LCBGTE9BVFNfVElNRU9VVF9NUyk7CgogICAgICAgIGNvbnN0IGR1cmF0aW9uID0gTWF0aC5taW4oMTUwMCwgNDAwICsgTWF0aC5hYnModG8gLSBmcm9tKSAqIDUpOwogICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICAgIGZ1bmN0aW9uIHRpY2sobm93OiBudW1iZXIpIHsKICAgICAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIChub3cgLSBzdGFydCkgLyBkdXJhdGlvbik7CiAgICAgICAgICAgIHNldERpc3BsYXlBbW91bnQoTWF0aC5yb3VuZChmcm9tICsgKHRvIC0gZnJvbSkgKiBlYXNlT3V0Q3ViaWModCkpKTsKICAgICAgICAgICAgaWYgKHQgPCAxKSB7CiAgICAgICAgICAgICAgICBhbmltRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYW5pbUZyYW1lUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7CiAgICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICAgICAgaWYgKGFuaW1GcmFtZVJlZi5jdXJyZW50KSBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltRnJhbWVSZWYuY3VycmVudCk7CiAgICAgICAgfTsKICAgIH0sIFthbW91bnQsIGFuaW1hdGVdKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmICghcHVsc2UpIHJldHVybjsKICAgICAgICBjb25zdCB0ID0gc2V0VGltZW91dCgoKSA9PiBzZXRQdWxzZShmYWxzZSksIFBVTFNFX1RJTUVPVVRfTVMpOwogICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodCk7CiAgICB9LCBbcHVsc2VdKTsKCiAgICByZXR1cm4gKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY3JlZGl0LWRpc3BsYXkgJHtwdWxzZSA/ICdjcmVkaXQtcHVsc2UnIDogJyd9YH0gb25DbGljaz17b25DbGlja30gc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+CiAgICAgICAgICAgIDxpbWcgc3JjPXtpY29ufT48L2ltZz4KICAgICAgICAgICAgPHNwYW4+e2Rpc3BsYXlBbW91bnR9PC9zcGFuPgogICAgICAgICAgICB7ZmxvYXRzLm1hcChmID0+ICgKICAgICAgICAgICAgICAgIDxzcGFuCiAgICAgICAgICAgICAgICAgICAga2V5PXtmLmlkfQogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iY3JlZGl0LWZsb2F0IgogICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBmLnZhbHVlID4gMCA/ICcjMjJjNTVlJyA6ICcjZWY0NDQ0JyB9fQogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgIHtmLnZhbHVlID4gMCA/ICcrJyA6ICcnfXtmLnZhbHVlfQogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICApKX0KICAgICAgICA8L2Rpdj4KICAgICkKfQoKcmV0dXJuIENyZWRpdERpc3BsYXk7JwCcisCSCQAab25BQkNvbW1hbmRzTWFuYWdlckNyZWF0ZWQCBACcisCSCYovtQJAbGV0IGFiQ29tbWFuZHM6IEFCQ29tbWFuZHNNYW5hZ2VyID0gdGhhdDsKCmFiQ29tbWFuZHMuYWRkQ29tbWFuZCgneHBlZ3VpcmVsb2FkJywgYXN5bmMgKGFyZ3MpID0+IHsKICAgIGF3YWl0IHRoaXNCb3QudW5tb3VudCgpOwogICAgYXdhaXQgdGhpc0JvdC5tb3VudCgpOwogICAgY29uc29sZS5sb2coYFt4cGVndWlyZWxvYWRdIFJlbG9hZGVkIHRoZSBBQiBYUEUgR1VJIGFwcC5gKTsKfSwgewogICAgc2hvcnREZXNjcmlwdGlvbjogJ1JlbG9hZCB0aGUgQUIgWFBFIEdVSSBhcHAuJywKICAgIHVzYWdlOiBbJy54cGVndWlyZWxvYWQnXQp9KTsnAJyKwJIJAApjcmVkaXRJY29uAgQAnIrAkgnAMSFhYi9pY29ucy9hdXhfY3JlZGl0X2ljb25fNDhweC5wbmcnAJyKwJIJAAlhYlZlcnNpb24CBACcisCSCeIxBTEwLjQwJwEEYm90cyQ3NTdjZDJjMC1iYTQ2LTQyYmYtOWMyNi0xYjFmN2IwNDJjODIBJwCcisCSCegxBnN5c3RlbQIEAJyKwJIJ6TEPYWIueHBlLmV4Y2hhbmdlJwCcisCSCegxCGFiSWdub3JlAgQAnIrAkgn5MQR0cnVlJwCcisCSCegxBGZvcm0CBACcisCSCf4xB25vdGhpbmcnAJyKwJIJ6DEPb25BQkluaXRpYWxpemVkAgQAnIrAkgmGMhZAdGhpc0JvdC5pbml0aWFsaXplKCk7JwCcisCSCegxDW9uU2tpbGxVcGRhdGUCBACcisCSCZ0yFkB0aGlzQm90LmluaXRpYWxpemUoKTsnAJyKwJIJ6DERZ2V0QWNjb3VudEJhbGFuY2UCBACcisCSCbQy/wFAYXNzZXJ0KG1hc2tzLmluaXRpYWxpemVkLCBgWyR7dGFncy5zeXN0ZW19LiR7dGFnTmFtZX1dIHNraWxsIG11c3QgYmUgbG9hZGVkIGJlZm9yZSBmaXJzdC5gKTsKCmlmICh0YWdzLm1vY2spIHsKICAgIGF3YWl0IG9zLnNsZWVwKDEwMCk7CiAgICByZXR1cm4gdGhpc0JvdC52YXJzLm1vY2tCYWxhbmNlOwp9IGVsc2UgewogICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHhwLmdldEFjY291bnRCYWxhbmNlcygpOwogICAgcmV0dXJuIGJhbGFuY2U7Cn0nAJyKwJIJ6DEKZ2V0Q3JlZGl0cwIEAJyKwJIJtDTCAUBpbXBvcnQgeyBKU09OQWNjb3VudEJhbGFuY2UgfSBmcm9tICdjYXN1YWxvcyc7Cgpjb25zdCBiYWxhbmNlOiBKU09OQWNjb3VudEJhbGFuY2UgPSBhd2FpdCB0aGlzQm90LmdldEFjY291bnRCYWxhbmNlKCk7CmNvbnN0IGNyZWRpdHNOdW0gPSBOdW1iZXIucGFyc2VGbG9hdChiYWxhbmNlLmNyZWRpdHMpOwoKcmV0dXJuIGNyZWRpdHNOdW07JwCcisCSCegxBWFiWFBFAgQAnIrAkgn3NQR0cnVlJwCcisCSCegxCWFiVmVyc2lvbgIEAJyKwJIJ/DUFMTAuNDAnAJyKwJIJ6DEKaW5pdGlhbGl6ZQIEAJyKwJIJgjaqBEBpbXBvcnQgeyBKU09OQWNjb3VudEJhbGFuY2UgfSBmcm9tICdjYXN1YWxvcyc7CgppZiAobWFza3MuaW5pdGlhbGl6ZWQpIHsKICAgIHJldHVybjsKfQoKbWFza3MuaW5pdGlhbGl6ZWQgPSB0cnVlOwoKZ2xvYmFsVGhpcy5hYlhQRSA9IHRoaXNCb3Q7CgppZiAodGFncy5tb2NrKSB7CiAgICBjb25zdCBpbml0aWFsTW9ja0JhbGFuY2U6IEpTT05BY2NvdW50QmFsYW5jZSA9IHsKICAgICAgICBhY2NvdW50SWQ6IGF1dGhCb3QuaWQsCiAgICAgICAgY3JlZGl0czogJzEwJywKICAgICAgICBjdXJyZW5jeTogJ1VTRCcsCiAgICAgICAgZGViaXRzOiAnMCcsCiAgICAgICAgZGlzcGxheUZhY3RvcjogJzEnLAogICAgICAgIHBlbmRpbmdDcmVkaXRzOiAnMCcsCiAgICAgICAgcGVuZGluZ0RlYml0czogJzAnLAogICAgfQoKICAgIHRoaXNCb3QudmFycy5tb2NrQmFsYW5jZSA9IGluaXRpYWxNb2NrQmFsYW5jZTsKCiAgICBzaG91dCgnb25BQlhQRUluaXRpYWxpemVkJyk7Cn0gZWxzZSB7CiAgICAvLyBUT0RPPwogICAgCiAgICBzaG91dCgnb25BQlhQRUluaXRpYWxpemVkJyk7Cn0KJwCcisCSCegxBnBheW91dAIEAJyKwJIJrTroC0BpbXBvcnQgeyBKU09OQWNjb3VudEJhbGFuY2UgfSBmcm9tICdjYXN1YWxvcyc7Cgpjb25zdCB7CiAgICBhbW91bnQsCiAgICBkZXN0aW5hdGlvbiwKICAgIHNvdXJjZUlkLAp9OiBBQlhQRSA9IHRoYXQgPz8ge307CgppZiAodGFncy5tb2NrKSB7CiAgICBhd2FpdCBvcy5zbGVlcCgxMDApOwoKICAgIGNvbnN0IGJhbGFuY2U6IEpTT05BY2NvdW50QmFsYW5jZSA9IHRoaXNCb3QudmFycy5tb2NrQmFsYW5jZTsKICAgIGxldCBjcmVkaXRzTnVtID0gTnVtYmVyLnBhcnNlRmxvYXQoYmFsYW5jZS5jcmVkaXRzKTsKCiAgICBpZiAoY3JlZGl0c051bSA+PSBhbW91bnQpIHsKICAgICAgICBpZiAodGFncy5kZWJ1ZykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGFncy5zeXN0ZW19LiR7dGFnTmFtZX1dIG1vY2s6IHBheWluZyAke2Ftb3VudH0gb3V0IGEgYmFsYW5jZSBvZiAke2NyZWRpdHNOdW19LmApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBjcmVkaXRzTnVtIC09IGFtb3VudDsKICAgICAgICBiYWxhbmNlLmNyZWRpdHMgPSBjcmVkaXRzTnVtLnRvU3RyaW5nKCk7CgogICAgICAgIGNvbnN0IHJlc3VsdDogQUJYUEVQYXlvdXRSZXN1bHRTdWNjZXNzID0geyBzdWNjZXNzOiB0cnVlLCBwYXlBbW91bnQ6IGFtb3VudCwgY3VyQ3JlZGl0czogY3JlZGl0c051bSwgc291cmNlSWQgfTsKICAgICAgICBzaG91dCgnb25BQlhQRVBhaWRPdXQnLCByZXN1bHQpOwoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIHsKICAgICAgICBjb25zdCByZXN1bHQ6IEFCWFBFUGF5b3V0UmVzdWx0RmFpbHVyZSA9IHsgc3VjY2VzczogZmFsc2UsIGVycm9yQ29kZTogJ21vY2tfaW5zdWZmaWNpZW50X2Z1bmRzJywgZXJyb3JNZXNzYWdlOiAnVXNlciBoYXMgaW5zdWZmaWNpZW50IGZ1bmRzLicsIHNvdXJjZUlkfTsKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQp9IGVsc2UgewogICAgY29uc3QgcmVzcG9uc2U6IEdlbmVyaWNSZXN1bHQ8dm9pZCwgU2ltcGxlRXJyb3I+ID0gYXdhaXQgeHAucGF5b3V0KHsgYW1vdW50LCBkZXN0aW5hdGlvbiB9KTsKICAgIGNvbnN0IGN1ckNyZWRpdHMgPSBhd2FpdCB0aGlzQm90LmdldENyZWRpdHMoKTsKCiAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgIGNvbnN0IHJlc3VsdDogQUJYUEVQYXlvdXRSZXN1bHRTdWNjZXNzID0geyBzdWNjZXNzOiB0cnVlLCBwYXlBbW91bnQ6IGFtb3VudCwgY3VyQ3JlZGl0cywgc291cmNlSWQgfTsKICAgICAgICBzaG91dCgnb25BQlhQRVBhaWRPdXQnLCByZXN1bHQpOwoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIHsKICAgICAgICBjb25zdCByZXN1bHQ6IEFCWFBFUGF5b3V0UmVzdWx0RmFpbHVyZSA9IHsgc3VjY2VzczogZmFsc2UsIGVycm9yQ29kZTogcmVwc29uc2UuZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yTWVzc2FnZSwgc291cmNlSWQgfTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KfQoKCicAnIrAkgnoMQRtb2NrAgQAnIrAkgmWRgR0cnVlJwCcisCSCegxBWRlYnVnAgQAnIrAkgmbRgR0cnVlJwCcisCSCegxBXR5cGVzAgQAnIrAkgmgRt4D8J+ThGludGVyZmFjZSBBQlhQRVBheW91dFBhcmFtcyBleHRlbmRzIEFQSVBheW91dFJlcXVlc3QgewogICAgYW1vdW50OiBudW1iZXI7CiAgICBkZXN0aW5hdGlvbjogJ3N0cmlwZScgfCAnY2FzaCc7CiAgICBzb3VyY2VJZD86IHN0cmluZwp9Cgp0eXBlIEFCWFBFUGF5b3V0UmVzdWx0ID0gQUJYUEVQYXlvdXRSZXN1bHRTdWNjZXNzIHwgQUJYUEVQYXlvdXRSZXN1bHRGYWlsdXJlOwoKaW50ZXJmYWNlIEFCWFBFUGF5b3V0UmVzdWx0U3VjY2VzcyB7CiAgICBzdWNjZXNzOiB0cnVlOwogICAgcGF5QW1vdW50OiBudW1iZXI7CiAgICBjdXJDcmVkaXRzOiBudW1iZXI7CiAgICBzb3VyY2VJZD86IHN0cmluZzsKfQoKaW50ZXJmYWNlIEFCWFBFUGF5b3V0UmVzdWx0RmFpbHVyZSB7CiAgICBzdWNjZXNzOiBmYWxzZTsKICAgIGVycm9yQ29kZTogc3RyaW5nOwogICAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7CiAgICBzb3VyY2VJZD86IHN0cmluZzsKfScBBGJvdHMkZDdkZjNlMDUtZDliOS00YTc0LTkxZTMtYWY4MGExYWYzNWEwAScAnIrAkgn9SQZzeXN0ZW0CBACcisCSCf5JDmFiLnhwZS52ZXJzaW9uJwCcisCSCf1JCGFiSWdub3JlAgQAnIrAkgmNSgR0cnVlJwCcisCSCf1JBGZvcm0CBACcisCSCZJKB25vdGhpbmcnAJyKwJIJ/UkFYWJYUEUCBACcisCSCZpKBHRydWUnAJyKwJIJ/UkRYWJYUEVNYWpvclZlcnNpb24CBACcisCSCZ9KATAnAJyKwJIJ/UkJYWJWZXJzaW9uAgQAnIrAkgmhSgUxMC40MCcAnIrAkgn9SQ1vblNraWxsVXBkYXRlAgQAnIrAkgmnSpQBQGNvbnN0IHZlcnNpb25TdHJpbmcgPSB0YWdzLmFiWFBFTWFqb3JWZXJzaW9uICsgIi4iICsgdGFncy5hYlhQRU1pbm9yVmVyc2lvbjsKY29uc29sZS5sb2coIltBQlhQRV0gTG9hZGVkIEFCIFhQIEV4Y2hhbmdlIHZlcnNpb24gIiArIHZlcnNpb25TdHJpbmcpOycAnIrAkgn9SRFhYlhQRU1pbm9yVmVyc2lvbgIEAJyKwJIJvEsBNAA="}]}