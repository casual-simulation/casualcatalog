{"version":2,"updates":[{"id":0,"timestamp":1771645149491,"update":"AU+KkfeoCAAnAQRib3RzJDY2YzljN2RmLWQ4NDItNGJhNC04ZWM1LTBkNDk1ZWVmMWQwYwEnAIqR96gIAAZzeXN0ZW0CBACKkfeoCAEKYWIueHBlLmd1aScAipH3qAgAA0FwcAIEAIqR96gIDJQMQGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9ID0gb3MuYXBwSG9va3M7Cgpjb25zdCBDcmVkaXREaXNwbGF5ID0gdGhpc0JvdC5DcmVkaXREaXNwbGF5KCk7CiAgICAgICAgCmNvbnN0IEFwcCA9ICgpID0+IHsKICAgIGNvbnN0IFtjcmVkaXRzLCBzZXRDcmVkaXRzXSA9IHVzZVN0YXRlKCk7CiAgICBjb25zdCBbaWNvbiwgc2V0SWNvbl0gPSB1c2VTdGF0ZSgpOwogICAgY29uc3QgY3JlZGl0RGlzcGxheVJlZiA9IHVzZVJlZihudWxsKTsKCiAgICAvLyBvbiBtb3VudAogICAgdXNlRWZmZWN0KGFzeW5jICgpID0+IHsKICAgICAgICAvLyBHcmFiIGN1cnJlbnQgY3JlZGl0cyBhbW91bnQuCiAgICAgICAgY29uc3QgY3VyQ3JlZGl0cyA9IGF3YWl0IGFiWFBFLmdldENyZWRpdHMoKTsKICAgICAgICBzZXRDcmVkaXRzKGN1ckNyZWRpdHMpOwoKICAgICAgICAvLyBTZXQgdGhlIGljb24gdXJsIGZyb20gY2F0YWxvZy4KICAgICAgICBpZiAodGFncy5jcmVkaXRJY29uKSB7CiAgICAgICAgICAgIGNvbnN0IGljb25VUkwgPSBhd2FpdCBhYi5hYkJ1aWxkQ2FzdWFsQ2F0YWxvZ1VSTCh0YWdzLmNyZWRpdEljb24pOwogICAgICAgICAgICBzZXRJY29uKGljb25VUkwpCiAgICAgICAgfQoKICAgICAgICAvLyBMaXN0ZW4gdG8gd2hlbiBwYXlvdXRzIG9jY3VyLgogICAgICAgIG9zLmFkZEJvdExpc3RlbmVyKHRoaXNCb3QsICdvbkFCWFBFUGFpZE91dCcsIGFzeW5jIChsaXN0ZW5lclRoYXQpID0+IHsKICAgICAgICAgICAgY29uc3QgeyBwYXlBbW91bnQsIGN1ckNyZWRpdHMgfSA9IGxpc3RlbmVyVGhhdDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldENyZWRpdHMoY3VyQ3JlZGl0cyk7CiAgICAgICAgICAgIGFiLmxpbmtzLnNvdW5kLmFiUGxheVNvdW5kKHsgdmFsdWU6ICdhYi9hdWRpby9wdXJjaGFzZS5tcDMnIH0pOwogICAgICAgIH0pCiAgICB9LCBbXSkKCiAgICBjb25zdCBvbkNyZWRpdERpc3BsYXlDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IG9zLmdldFJlY29yZHNFbmRwb2ludCgpOwogICAgICAgIG9zLm9wZW5VUkwoZW5kcG9pbnQpOwogICAgfSwgW10pOwoKICAgIHJldHVybiAoCiAgICAgICAgPD4KICAgICAgICAgICAgPHN0eWxlPnt0YWdzWydzdHlsZS5jc3MnXX08L3N0eWxlPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWIteHBlLWd1aSc+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9wLXJpZ2h0Jz4KICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0cyAhPSBudWxsICYmIAogICAgICAgICAgICAgICAgICAgICAgICA8Q3JlZGl0RGlzcGxheSBpY29uPXtpY29ufSBhbW91bnQ9e2NyZWRpdHN9IGFuaW1hdGU9e3RydWV9IG9uQ2xpY2s9e29uQ3JlZGl0RGlzcGxheUNsaWNrfSByZWY9e2NyZWRpdERpc3BsYXlSZWZ9IC8+CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvPgogICAgKQp9CgpyZXR1cm4gQXBwOwonAIqR96gIAAVtb3VudAIEAIqR96gIoQzUAUBpZiAoIXRoaXNCb3QudmFycy5hcHBJbnN0YW5jZSkgewogICAgdGhpc0JvdC52YXJzLmFwcEluc3RhbmNlID0gdGhpc0JvdC5BcHAoKTsKICAgIGF3YWl0IG9zLnJlZ2lzdGVyQXBwKHRhZ3Muc3lzdGVtLCB0aGlzQm90KTsKCiAgICBjb25zdCBBcHAgPSB0aGlzQm90LnZhcnMuYXBwSW5zdGFuY2U7CiAgICBvcy5jb21waWxlQXBwKHRhZ3Muc3lzdGVtLCA8QXBwLz4pCn0KJwCKkfeoCAAHdW5tb3VudAIEAIqR96gI9g24AkBpZiAodGhpc0JvdC52YXJzLmFwcEluc3RhbmNlKSB7CiAgICBkZWxldGUgdGhpc0JvdC52YXJzLmFwcEluc3RhbmNlOwoKICAgIC8vIENvbXBpbGluZyB0aGUgYXBwIHdpdGggYW4gZW1wdHkgcm9vdCB2YWx1ZSBpcyBhIHdvcmthcm91bmQgdGhhdCBhbGxvd3MgdGhlCiAgICAvLyBwcmV2aW91cyBjb21wb25lbnRzIHRvIHBlcmZvcm0gdGhlaXIgdW5tb3VudGluZyBjb2RlIHByb3Blcmx5LgogICAgYXdhaXQgb3MuY29tcGlsZUFwcCh0YWdzLnN5c3RlbSwgPD48Lz4pOwoKICAgIGF3YWl0IG9zLnVucmVnaXN0ZXJBcHAodGFncy5zeXN0ZW0pOwp9CicAipH3qAgACXN0eWxlLmNzcwIEAIqR96gIrxDGCS5hYi14cGUtZ3VpIHsKfQoKLmFiLXhwZS1ndWkgLnRvcC1yaWdodCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDEuMjVyZW07CiAgICByaWdodDogMC41cmVtOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cn0KCi5jcmVkaXQtZGlzcGxheSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDAuNnJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzIGVhc2Utb3V0OwogICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgY2VudGVyOwp9CgouY3JlZGl0LWRpc3BsYXkgaW1nIHsKICAgIHdpZHRoOiAycmVtOwp9CgouY3JlZGl0LWRpc3BsYXkgc3BhbiB7CiAgICBtYXJnaW4tbGVmdDogMC41cmVtOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKfQoKLmNyZWRpdC1mbG9hdCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDEwMCU7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgYW5pbWF0aW9uOiBjcmVkaXQtZmxvYXQtYW5pbSAxcyBlYXNlLW91dCBmb3J3YXJkczsKfQoKQGtleWZyYW1lcyBjcmVkaXQtZmxvYXQtYW5pbSB7CiAgICAwJSB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgwKTsKICAgIH0KICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoMzBweCk7CiAgICB9Cn0KCi5jcmVkaXQtcHVsc2UgeyAKICAgIGFuaW1hdGlvbjogY3JlZGl0LXB1bHNlLWFuaW0gMC41cyBlYXNlLW91dDsKfQoKQGtleWZyYW1lcyBjcmVkaXQtcHVsc2UtYW5pbSB7CiAgICAwJSAgIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfQogICAgMjIlICB7IHRyYW5zZm9ybTogc2NhbGUoMS4zMyk7IH0KICAgIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9Cn0nAIqR96gIAAlvbkRlc3Ryb3kCBACKkfeoCPYZE0B0aGlzQm90LnVubW91bnQoKTsoAIqR96gIAAVob21lWAF9ACgAipH3qAgABWhvbWVZAX0DJwCKkfeoCAASb25BQlhQRUluaXRpYWxpemVkAgQAipH3qAiMGhFAdGhpc0JvdC5tb3VudCgpOycAipH3qAgABWFiWFBFAgQAipH3qAieGgR0cnVlJwCKkfeoCAAIYWJJZ25vcmUCBACKkfeoCKMaBHRydWUnAIqR96gIAARmb3JtAgQAipH3qAioGgdub3RoaW5nJwCKkfeoCAAFdHlwZXMCBACKkfeoCLAaBPCfk4QnAIqR96gIAA1DcmVkaXREaXNwbGF5AgQAipH3qAizGv0TQGNvbnN0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gPSBvcy5hcHBIb29rczsKCmludGVyZmFjZSBDcmVkaXREaXNwbGF5UHJvcHMgewogICAgYW1vdW50OiBudW1iZXI7CiAgICBpY29uOiBzdHJpbmc7CiAgICBhbmltYXRlPzogYm9vbGVhbjsKICAgIG9uQ2xpY2s/OiAoKSA9PiB2b2lkOwp9CgppbnRlcmZhY2UgRmxvYXRpbmdOdW1iZXIgewogICAgaWQ6IG51bWJlcjsKICAgIHZhbHVlOiBudW1iZXI7Cn0KCmZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0OiBudW1iZXIpIHsKICAgIHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHQsIDMpOwp9CgpsZXQgZmxvYXRJZCA9IDA7Cgpjb25zdCBDcmVkaXREaXNwbGF5ID0gKHsKICAgIGFtb3VudCwKICAgIGljb24sCiAgICBhbmltYXRlID0gZmFsc2UsCiAgICBvbkNsaWNrCn06IENyZWRpdERpc3BsYXlQcm9wcykgPT4gewogICAgY29uc3QgW2Rpc3BsYXlBbW91bnQsIHNldERpc3BsYXlBbW91bnRdID0gdXNlU3RhdGUoYW1vdW50KTsKICAgIGNvbnN0IFtwdWxzZSwgc2V0UHVsc2VdID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2Zsb2F0cywgc2V0RmxvYXRzXSA9IHVzZVN0YXRlPEZsb2F0aW5nTnVtYmVyW10+KFtdKTsKICAgIGNvbnN0IHByZXZBbW91bnRSZWYgPSB1c2VSZWYoYW1vdW50KTsKICAgIGNvbnN0IGFuaW1GcmFtZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IGZyb20gPSBwcmV2QW1vdW50UmVmLmN1cnJlbnQ7CiAgICAgICAgY29uc3QgdG8gPSBhbW91bnQ7CiAgICAgICAgcHJldkFtb3VudFJlZi5jdXJyZW50ID0gYW1vdW50OwoKICAgICAgICBpZiAoIWFuaW1hdGUgfHwgZnJvbSA9PT0gdG8pIHsKICAgICAgICAgICAgc2V0RGlzcGxheUFtb3VudCh0byk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHNldFB1bHNlKHRydWUpOwoKICAgICAgICBjb25zdCBkaWZmID0gdG8gLSBmcm9tOwogICAgICAgIGNvbnN0IGlkID0gKytmbG9hdElkOwogICAgICAgIHNldEZsb2F0cyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkLCB2YWx1ZTogZGlmZiB9XSk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHNldEZsb2F0cyhwcmV2ID0+IHByZXYuZmlsdGVyKGYgPT4gZi5pZCAhPT0gaWQpKTsKICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLm1pbigxNTAwLCA0MDAgKyBNYXRoLmFicyh0byAtIGZyb20pICogNSk7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKCiAgICAgICAgZnVuY3Rpb24gdGljayhub3c6IG51bWJlcikgewogICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oMSwgKG5vdyAtIHN0YXJ0KSAvIGR1cmF0aW9uKTsKICAgICAgICAgICAgc2V0RGlzcGxheUFtb3VudChNYXRoLnJvdW5kKGZyb20gKyAodG8gLSBmcm9tKSAqIGVhc2VPdXRDdWJpYyh0KSkpOwogICAgICAgICAgICBpZiAodCA8IDEpIHsKICAgICAgICAgICAgICAgIGFuaW1GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhbmltRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsKICAgICAgICByZXR1cm4gKCkgPT4gewogICAgICAgICAgICBpZiAoYW5pbUZyYW1lUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1GcmFtZVJlZi5jdXJyZW50KTsKICAgICAgICB9OwogICAgfSwgW2Ftb3VudCwgYW5pbWF0ZV0pOwoKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKCFwdWxzZSkgcmV0dXJuOwogICAgICAgIGNvbnN0IHQgPSBzZXRUaW1lb3V0KCgpID0+IHNldFB1bHNlKGZhbHNlKSwgNTAwKTsKICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHQpOwogICAgfSwgW3B1bHNlXSk7CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGNyZWRpdC1kaXNwbGF5ICR7cHVsc2UgPyAnY3JlZGl0LXB1bHNlJyA6ICcnfWB9IG9uQ2xpY2s9e29uQ2xpY2t9IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PgogICAgICAgICAgICA8aW1nIHNyYz17aWNvbn0+PC9pbWc+CiAgICAgICAgICAgIDxzcGFuPntkaXNwbGF5QW1vdW50fTwvc3Bhbj4KICAgICAgICAgICAge2Zsb2F0cy5tYXAoZiA9PiAoCiAgICAgICAgICAgICAgICA8c3BhbgogICAgICAgICAgICAgICAgICAgIGtleT17Zi5pZH0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImNyZWRpdC1mbG9hdCIKICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZi52YWx1ZSA+IDAgPyAnIzIyYzU1ZScgOiAnI2VmNDQ0NCcgfX0KICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICB7Zi52YWx1ZSA+IDAgPyAnKycgOiAnJ317Zi52YWx1ZX0KICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICApCn0KCnJldHVybiBDcmVkaXREaXNwbGF5OycAipH3qAgAGm9uQUJDb21tYW5kc01hbmFnZXJDcmVhdGVkAgQAipH3qAixLrUCQGxldCBhYkNvbW1hbmRzOiBBQkNvbW1hbmRzTWFuYWdlciA9IHRoYXQ7CgphYkNvbW1hbmRzLmFkZENvbW1hbmQoJ3hwZWd1aXJlbG9hZCcsIGFzeW5jIChhcmdzKSA9PiB7CiAgICBhd2FpdCB0aGlzQm90LnVubW91bnQoKTsKICAgIGF3YWl0IHRoaXNCb3QubW91bnQoKTsKICAgIGNvbnNvbGUubG9nKGBbeHBlZ3VpcmVsb2FkXSBSZWxvYWRlZCB0aGUgQUIgWFBFIEdVSSBhcHAuYCk7Cn0sIHsKICAgIHNob3J0RGVzY3JpcHRpb246ICdSZWxvYWQgdGhlIEFCIFhQRSBHVUkgYXBwLicsCiAgICB1c2FnZTogWycueHBlZ3VpcmVsb2FkJ10KfSk7JwCKkfeoCAAKY3JlZGl0SWNvbgIEAIqR96gI5zAhYWIvaWNvbnMvYXV4X2NyZWRpdF9pY29uXzQ4cHgucG5nJwCKkfeoCAAJYWJWZXJzaW9uAgQAipH3qAiJMQUxMC40MCcBBGJvdHMkNzU3Y2QyYzAtYmE0Ni00MmJmLTljMjYtMWIxZjdiMDQyYzgyAScAipH3qAiPMQZzeXN0ZW0CBACKkfeoCJAxD2FiLnhwZS5leGNoYW5nZScAipH3qAiPMQhhYklnbm9yZQIEAIqR96gIoDEEdHJ1ZScAipH3qAiPMQRmb3JtAgQAipH3qAilMQdub3RoaW5nJwCKkfeoCI8xD29uQUJJbml0aWFsaXplZAIEAIqR96gIrTEWQHRoaXNCb3QuaW5pdGlhbGl6ZSgpOycAipH3qAiPMQ1vblNraWxsVXBkYXRlAgQAipH3qAjEMRZAdGhpc0JvdC5pbml0aWFsaXplKCk7JwCKkfeoCI8xEWdldEFjY291bnRCYWxhbmNlAgQAipH3qAjbMf8BQGFzc2VydChtYXNrcy5pbml0aWFsaXplZCwgYFske3RhZ3Muc3lzdGVtfS4ke3RhZ05hbWV9XSBza2lsbCBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgZmlyc3QuYCk7CgppZiAodGFncy5tb2NrKSB7CiAgICBhd2FpdCBvcy5zbGVlcCgxMDApOwogICAgcmV0dXJuIHRoaXNCb3QudmFycy5tb2NrQmFsYW5jZTsKfSBlbHNlIHsKICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCB4cC5nZXRBY2NvdW50QmFsYW5jZXMoKTsKICAgIHJldHVybiBiYWxhbmNlOwp9JwCKkfeoCI8xCmdldENyZWRpdHMCBACKkfeoCNszwgFAaW1wb3J0IHsgSlNPTkFjY291bnRCYWxhbmNlIH0gZnJvbSAnY2FzdWFsb3MnOwoKY29uc3QgYmFsYW5jZTogSlNPTkFjY291bnRCYWxhbmNlID0gYXdhaXQgdGhpc0JvdC5nZXRBY2NvdW50QmFsYW5jZSgpOwpjb25zdCBjcmVkaXRzTnVtID0gTnVtYmVyLnBhcnNlRmxvYXQoYmFsYW5jZS5jcmVkaXRzKTsKCnJldHVybiBjcmVkaXRzTnVtOycAipH3qAiPMQVhYlhQRQIEAIqR96gInjUEdHJ1ZScAipH3qAiPMQlhYlZlcnNpb24CBACKkfeoCKM1BTEwLjQwJwCKkfeoCI8xCmluaXRpYWxpemUCBACKkfeoCKk1qgRAaW1wb3J0IHsgSlNPTkFjY291bnRCYWxhbmNlIH0gZnJvbSAnY2FzdWFsb3MnOwoKaWYgKG1hc2tzLmluaXRpYWxpemVkKSB7CiAgICByZXR1cm47Cn0KCm1hc2tzLmluaXRpYWxpemVkID0gdHJ1ZTsKCmdsb2JhbFRoaXMuYWJYUEUgPSB0aGlzQm90OwoKaWYgKHRhZ3MubW9jaykgewogICAgY29uc3QgaW5pdGlhbE1vY2tCYWxhbmNlOiBKU09OQWNjb3VudEJhbGFuY2UgPSB7CiAgICAgICAgYWNjb3VudElkOiBhdXRoQm90LmlkLAogICAgICAgIGNyZWRpdHM6ICcxMCcsCiAgICAgICAgY3VycmVuY3k6ICdVU0QnLAogICAgICAgIGRlYml0czogJzAnLAogICAgICAgIGRpc3BsYXlGYWN0b3I6ICcxJywKICAgICAgICBwZW5kaW5nQ3JlZGl0czogJzAnLAogICAgICAgIHBlbmRpbmdEZWJpdHM6ICcwJywKICAgIH0KCiAgICB0aGlzQm90LnZhcnMubW9ja0JhbGFuY2UgPSBpbml0aWFsTW9ja0JhbGFuY2U7CgogICAgc2hvdXQoJ29uQUJYUEVJbml0aWFsaXplZCcpOwp9IGVsc2UgewogICAgLy8gVE9ETz8KICAgIAogICAgc2hvdXQoJ29uQUJYUEVJbml0aWFsaXplZCcpOwp9CicAipH3qAiPMQZwYXlvdXQCBACKkfeoCNQ56AtAaW1wb3J0IHsgSlNPTkFjY291bnRCYWxhbmNlIH0gZnJvbSAnY2FzdWFsb3MnOwoKY29uc3QgewogICAgYW1vdW50LAogICAgZGVzdGluYXRpb24sCiAgICBzb3VyY2VJZCwKfTogQUJYUEUgPSB0aGF0ID8/IHt9OwoKaWYgKHRhZ3MubW9jaykgewogICAgYXdhaXQgb3Muc2xlZXAoMTAwKTsKCiAgICBjb25zdCBiYWxhbmNlOiBKU09OQWNjb3VudEJhbGFuY2UgPSB0aGlzQm90LnZhcnMubW9ja0JhbGFuY2U7CiAgICBsZXQgY3JlZGl0c051bSA9IE51bWJlci5wYXJzZUZsb2F0KGJhbGFuY2UuY3JlZGl0cyk7CgogICAgaWYgKGNyZWRpdHNOdW0gPj0gYW1vdW50KSB7CiAgICAgICAgaWYgKHRhZ3MuZGVidWcpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYFske3RhZ3Muc3lzdGVtfS4ke3RhZ05hbWV9XSBtb2NrOiBwYXlpbmcgJHthbW91bnR9IG91dCBhIGJhbGFuY2Ugb2YgJHtjcmVkaXRzTnVtfS5gKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY3JlZGl0c051bSAtPSBhbW91bnQ7CiAgICAgICAgYmFsYW5jZS5jcmVkaXRzID0gY3JlZGl0c051bS50b1N0cmluZygpOwoKICAgICAgICBjb25zdCByZXN1bHQ6IEFCWFBFUGF5b3V0UmVzdWx0U3VjY2VzcyA9IHsgc3VjY2VzczogdHJ1ZSwgcGF5QW1vdW50OiBhbW91bnQsIGN1ckNyZWRpdHM6IGNyZWRpdHNOdW0sIHNvdXJjZUlkIH07CiAgICAgICAgc2hvdXQoJ29uQUJYUEVQYWlkT3V0JywgcmVzdWx0KTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgcmVzdWx0OiBBQlhQRVBheW91dFJlc3VsdEZhaWx1cmUgPSB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvckNvZGU6ICdtb2NrX2luc3VmZmljaWVudF9mdW5kcycsIGVycm9yTWVzc2FnZTogJ1VzZXIgaGFzIGluc3VmZmljaWVudCBmdW5kcy4nLCBzb3VyY2VJZH07CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KfSBlbHNlIHsKICAgIGNvbnN0IHJlc3BvbnNlOiBHZW5lcmljUmVzdWx0PHZvaWQsIFNpbXBsZUVycm9yPiA9IGF3YWl0IHhwLnBheW91dCh7IGFtb3VudCwgZGVzdGluYXRpb24gfSk7CiAgICBjb25zdCBjdXJDcmVkaXRzID0gYXdhaXQgdGhpc0JvdC5nZXRDcmVkaXRzKCk7CgogICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICBjb25zdCByZXN1bHQ6IEFCWFBFUGF5b3V0UmVzdWx0U3VjY2VzcyA9IHsgc3VjY2VzczogdHJ1ZSwgcGF5QW1vdW50OiBhbW91bnQsIGN1ckNyZWRpdHMsIHNvdXJjZUlkIH07CiAgICAgICAgc2hvdXQoJ29uQUJYUEVQYWlkT3V0JywgcmVzdWx0KTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgcmVzdWx0OiBBQlhQRVBheW91dFJlc3VsdEZhaWx1cmUgPSB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvckNvZGU6IHJlcHNvbnNlLmVycm9yQ29kZSwgZXJyb3JNZXNzYWdlOiByZXNwb25zZS5lcnJvck1lc3NhZ2UsIHNvdXJjZUlkIH07CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Cn0KCgonAIqR96gIjzEEbW9jawIEAIqR96gIvUUEdHJ1ZScAipH3qAiPMQVkZWJ1ZwIEAIqR96gIwkUEdHJ1ZScAipH3qAiPMQV0eXBlcwIEAIqR96gIx0XeA/Cfk4RpbnRlcmZhY2UgQUJYUEVQYXlvdXRQYXJhbXMgZXh0ZW5kcyBBUElQYXlvdXRSZXF1ZXN0IHsKICAgIGFtb3VudDogbnVtYmVyOwogICAgZGVzdGluYXRpb246ICdzdHJpcGUnIHwgJ2Nhc2gnOwogICAgc291cmNlSWQ/OiBzdHJpbmcKfQoKdHlwZSBBQlhQRVBheW91dFJlc3VsdCA9IEFCWFBFUGF5b3V0UmVzdWx0U3VjY2VzcyB8IEFCWFBFUGF5b3V0UmVzdWx0RmFpbHVyZTsKCmludGVyZmFjZSBBQlhQRVBheW91dFJlc3VsdFN1Y2Nlc3MgewogICAgc3VjY2VzczogdHJ1ZTsKICAgIHBheUFtb3VudDogbnVtYmVyOwogICAgY3VyQ3JlZGl0czogbnVtYmVyOwogICAgc291cmNlSWQ/OiBzdHJpbmc7Cn0KCmludGVyZmFjZSBBQlhQRVBheW91dFJlc3VsdEZhaWx1cmUgewogICAgc3VjY2VzczogZmFsc2U7CiAgICBlcnJvckNvZGU6IHN0cmluZzsKICAgIGVycm9yTWVzc2FnZTogc3RyaW5nOwogICAgc291cmNlSWQ/OiBzdHJpbmc7Cn0nAQRib3RzJGQ3ZGYzZTA1LWQ5YjktNGE3NC05MWUzLWFmODBhMWFmMzVhMAEnAIqR96gIpEkGc3lzdGVtAgQAipH3qAilSQ5hYi54cGUudmVyc2lvbicAipH3qAikSQhhYklnbm9yZQIEAIqR96gItEkEdHJ1ZScAipH3qAikSQRmb3JtAgQAipH3qAi5SQdub3RoaW5nJwCKkfeoCKRJBWFiWFBFAgQAipH3qAjBSQR0cnVlJwCKkfeoCKRJEWFiWFBFTWFqb3JWZXJzaW9uAgQAipH3qAjGSQEwJwCKkfeoCKRJCWFiVmVyc2lvbgIEAIqR96gIyEkFMTAuNDAnAIqR96gIpEkNb25Ta2lsbFVwZGF0ZQIEAIqR96gIzkmUAUBjb25zdCB2ZXJzaW9uU3RyaW5nID0gdGFncy5hYlhQRU1ham9yVmVyc2lvbiArICIuIiArIHRhZ3MuYWJYUEVNaW5vclZlcnNpb247CmNvbnNvbGUubG9nKCJbQUJYUEVdIExvYWRlZCBBQiBYUCBFeGNoYW5nZSB2ZXJzaW9uICIgKyB2ZXJzaW9uU3RyaW5nKTsnAIqR96gIpEkRYWJYUEVNaW5vclZlcnNpb24CBACKkfeoCONKATMA"}]}