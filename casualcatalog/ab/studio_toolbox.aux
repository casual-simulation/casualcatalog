{"version":2,"updates":[{"id":0,"timestamp":1750439203877,"update":"AUz5r9XoCAAnAQRib3RzJDA3MGUzN2MyLTNkOWEtNDZmYS1hYWJkLWU1NmFkZjU1YTAxOQEnAPmv1egIABJnZW5lcmF0ZUNvbmZpZ01lbnUCBAD5r9XoCAGqJ0BpZiAoIXRoYXQpIHsNCiAgICByZXR1cm47DQp9DQoNCi8vbWFrZSBzdXJlIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbg0KYXdhaXQgb3MucmVxdWVzdEF1dGhCb3RJbkJhY2tncm91bmQoKTsNCg0KaWYgKCFhdXRoQm90KSB7DQogICAgcmV0dXJuOw0KfQ0KDQpjb25zdCBsYXVuY2hlckJvdCA9IGdldEJvdCgic3lzdGVtIiwgc3lzdGVtID0+IHN5c3RlbS5pbmNsdWRlcygiY2hhbm5lbHMubGF1bmNoZXJzLiIpKTsNCmNvbnN0IGNvbnRleHRNYXAgPSB7Li4ubGF1bmNoZXJCb3QudGFncy5jb250ZXh0TWFwfTsNCmNvbnN0IGNvbnRleHRJbmZvID0gey4uLmNvbnRleHRNYXBbdGhhdF19Ow0KDQppZiAoIWNvbnRleHRJbmZvKSB7DQogICAgY29udGV4dEluZm8gPSB7DQogICAgICAgICJzdHVkaW8iOiBudWxsLA0KICAgICAgICAicGF0dGVybiI6IG51bGwsDQogICAgICAgICJiaW9zIjogImZyZWUiLA0KICAgICAgICAiaW5zdCI6IG51bGwsDQogICAgICAgICJzaWRlbG9hZCI6IGZhbHNlDQogICAgfQ0KfQ0KDQpzaG91dCgiY2xlYXJDaGFubmVsRWRpdG9yTWVudSIpOw0KY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCA9ICJjaGFubmVsRWRpdG9yTWVudSI7DQoNCnZhcnMuY29uZmlnTWVudURhdGEgPSBjb250ZXh0SW5mbzsNCg0KY29uc3QgY29udGV4dE1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAiY29udGV4dDogIiArIGNvbnRleHQsDQogICAgY2hhbm5lbEVkaXRvcjogYXdhaXQgZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBiaW9zTWVudUl0ZW0gPSB7DQogICAgbGFiZWw6ICJCSU9TOiAiLA0KICAgIG9uQ2xpY2s6IGBADQogICAgICAgIGNvbnN0IG5ld0JJT1MgPSBhd2FpdCBvcy5zaG93SW5wdXQobnVsbCwgew0KICAgICAgICAgICAgdGl0bGU6ICdCSU9TJywNCiAgICAgICAgICAgIHR5cGU6ICdsaXN0JywNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnYmlvcycsDQogICAgICAgICAgICBpdGVtczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdGcmVlJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdmcmVlJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0xvY2FsJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdsb2NhbCcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdTdHVkaW8nLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3N0dWRpbycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0pOw0KICAgICAgICBpZiAobmV3QklPUykgew0KICAgICAgICAgICAgbGlua3MuY2hhbm5lbEVkaXRvci52YXJzLmNvbmZpZ01lbnVEYXRhWyJiaW9zIl0gPSBuZXdCSU9TLnZhbHVlOw0KICAgICAgICAgICAgdGFncy5sYWJlbCA9ICJCSU9TOiAiICsgbmV3QklPUy52YWx1ZTsNCiAgICAgICAgfQ0KICAgIGAsDQogICAgY2hhbm5lbEVkaXRvcjogYXdhaXQgZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBzaWRlTG9hZE1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAic2lkZWxvYWQ6ICIsDQogICAgb25DbGljazogYEANCiAgICAgICAgY29uc3QgbmV3U2lkZWxvYWQgPSBhd2FpdCBvcy5zaG93SW5wdXQoZmFsc2UsIHsNCiAgICAgICAgICAgIHRpdGxlOiAnc2lkZWxvYWQnLA0KICAgICAgICAgICAgdHlwZTogJ2xpc3QnLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdpbnN0JywNCiAgICAgICAgICAgIGl0ZW1zOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ3RydWUnLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ2ZhbHNlJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9KTsNCiAgICAgICAgbGlua3MuY2hhbm5lbEVkaXRvci52YXJzLmNvbmZpZ01lbnVEYXRhWyJzaWRlbG9hZCJdID0gbmV3U2lkZWxvYWQudmFsdWU7DQogICAgICAgIHRhZ3MubGFiZWwgPSAic2lkZWxvYWQ6ICIgKyBuZXdTaWRlbG9hZC52YWx1ZTsNCiAgICAgICAgDQogICAgYCwNCiAgICBjaGFubmVsRWRpdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxFZGl0b3JNZW51OiB0cnVlLA0KICAgIGNsZWFyQ2hhbm5lbEVkaXRvck1lbnU6IGBAZGVzdHJveSh0aGlzKTtgDQp9DQoNCmNvbnN0IGluc3RNZW51SXRlbSA9IHsNCiAgICBsYWJlbDogImluc3Q6ICIgKyB2YXJzLmNvbmZpZ01lbnVEYXRhWyJpbnN0Il0sDQogICAgb25DbGljazogYEANCiAgICAgICAgY29uc3QgbmV3SW5zdCA9IGF3YWl0IG9zLnNob3dJbnB1dChudWxsLCB7DQogICAgICAgICAgICB0aXRsZTogJ2luc3QnLA0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAobmV3SW5zdCkgew0KICAgICAgICAgICBsaW5rcy5jaGFubmVsRWRpdG9yLnZhcnMuY29uZmlnTWVudURhdGFbImluc3QiXSA9IG5ld0luc3Q7DQogICAgICAgICAgICB0YWdzLmxhYmVsID0gImluc3Q6ICIgKyBuZXdJbnN0OyANCiAgICAgICAgfQ0KICAgIGAsDQogICAgY2hhbm5lbEVkaXRvcjogYXdhaXQgZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBwYXR0ZXJuTWVudUl0ZW0gPSB7DQogICAgbGFiZWw6ICJwYXR0ZXJuOiAiICsgdmFycy5jb25maWdNZW51RGF0YVsicGF0dGVybiJdLA0KICAgIG9uQ2xpY2s6IGBADQogICAgICAgIGNvbnN0IG5ld1BhdHRlcm4gPSBhd2FpdCBvcy5zaG93SW5wdXQobnVsbCwgew0KICAgICAgICAgICAgdGl0bGU6ICdwYXR0ZXJuJywNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKG5ld1BhdHRlcm4pIHsNCiAgICAgICAgICAgIGxpbmtzLmNoYW5uZWxFZGl0b3IudmFycy5jb25maWdNZW51RGF0YVsicGF0dGVybiJdID0gbmV3UGF0dGVybjsNCiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAicGF0dGVybjogIiArIG5ld1BhdHRlcm47IA0KICAgICAgICB9DQogICAgYCwNCiAgICBjaGFubmVsRWRpdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxFZGl0b3JNZW51OiB0cnVlLA0KICAgIGNsZWFyQ2hhbm5lbEVkaXRvck1lbnU6IGBAZGVzdHJveSh0aGlzKTtgDQp9DQoNCmNvbnN0IHN0dWRpb01lbnVJdGVtID0gew0KICAgIGxhYmVsOiAic3R1ZGlvOiAiICsgdmFycy5jb25maWdNZW51RGF0YVsic3R1ZGlvIl0sDQogICAgb25DbGljazogYEANCiAgICAgICAgY29uc3QgbmV3U3R1ZGlvID0gYXdhaXQgb3Muc2hvd0lucHV0KG51bGwsIHsNCiAgICAgICAgICAgIHRpdGxlOiAnc3R1ZGlvJywNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKG5ld1N0dWRpbykgew0KICAgICAgICAgICAgbGlua3MuY2hhbm5lbEVkaXRvci52YXJzLmNvbmZpZ01lbnVEYXRhWyJzdHVkaW8iXSA9IG5ld1N0dWRpbzsNCiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAic3R1ZGlvOiAiICsgbmV3U3R1ZGlvOyANCiAgICAgICAgfQ0KICAgIGAsDQogICAgY2hhbm5lbEVkaXRvcjogZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBzYXZlTWVudUl0ZW0gPSB7DQogICAgbGFiZWw6ICJzYXZlIGNvbnRleHQgY29uZmlndXJhdGlvbiIsDQogICAgb25DbGljazogYEANCiAgICAgICAgbGlua3MuY2hhbm5lbEVkaXRvci5zYXZlQ29udGV4dCh7J2NvbnRleHQnOiAke2NvbnRleHR9LCAnZGF0YSc6ICR7dmFycy5jb25maWdNZW51RGF0YX19KTsNCiAgICAgICAgc2hvdXQoImNsZWFyQ2hhbm5lbEVkaXRvck1lbnUiKTsNCiAgICBgLA0KICAgIGNoYW5uZWxFZGl0b3I6IGdldExpbmsodGhpc0JvdCksDQogICAgY2hhbm5lbEVkaXRvck1lbnU6IHRydWUsDQogICAgY2xlYXJDaGFubmVsRWRpdG9yTWVudTogYEBkZXN0cm95KHRoaXMpO2ANCn0NCg0KY29uc3QgcmVtb3ZlTWVudUl0ZW0gPSB7DQogICAgbGFiZWw6ICJkZWxldGUgY29udGV4dCIsDQogICAgb25DbGljazogYEANCiAgICAgICAgbGlua3MuY2hhbm5lbEVkaXRvci5kZWxldGVDb250ZXh0KCR7Y29udGV4dH0pOw0KICAgICAgICBzaG91dCgiY2xlYXJDaGFubmVsRWRpdG9yTWVudSIpOw0KICAgIGAsDQogICAgY2hhbm5lbEVkaXRvcjogZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihjb250ZXh0TWVudUl0ZW0pOw0KYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24oYmlvc01lbnVJdGVtKTsNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHNpZGVMb2FkTWVudUl0ZW0pOw0KYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24oaW5zdE1lbnVJdGVtKTsNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHBhdHRlcm5NZW51SXRlbSk7DQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihzdHVkaW9NZW51SXRlbSk7DQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihzYXZlTWVudUl0ZW0pOw0KYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24ocmVtb3ZlTWVudUl0ZW0pOycA+a/V6AgABG1lbnUCBAD5r9XoCKwnKPCflJdiMzBjNmM1ZC1hNGY3LTQyNjYtYmEzOC0zOTNkYzk1ZTFlY2InAPmv1egIAAdvbkNsaWNrAgQA+a/V6AjTJ6wMQC8vbWFrZSBzdXJlIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbg0KYXdhaXQgb3MucmVxdWVzdEF1dGhCb3RJbkJhY2tncm91bmQoKTsNCg0KaWYgKCFhdXRoQm90KSB7DQogICAgcmV0dXJuOw0KfQ0KDQpzaG91dCgiY2xlYXJDaGFubmVsRWRpdG9yTWVudSIpOw0KY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCA9ICJjaGFubmVsRWRpdG9yTWVudSI7DQoNCi8vRmluZCBpbnN0YWxsZWQgY2hhbm5lbA0KY29uc3QgbGF1bmNoZXJCb3QgPSBnZXRCb3QoInN5c3RlbSIsIHN5c3RlbSA9PiBzeXN0ZW0uaW5jbHVkZXMoImNoYW5uZWxzLmxhdW5jaGVycy4iKSk7DQoNCmlmICghbGF1bmNoZXJCb3QpIHsNCiAgICBvcy50b2FzdCgibm8gYWN0aXZlIGNoYW5uZWwiKTsNCiAgICByZXR1cm47DQp9DQpjb25zdCBzYXZlQ2hhbm5lbENvbmZpZyA9IHsNCiAgICBsYWJlbDogInNhdmUgY2hhbm5lbCBjb25maWd1cmF0aW9uIiwNCiAgICBvbkNsaWNrOiBgQA0KICAgICAgICBsaW5rcy5jaGFubmVsRWRpdG9yLnNhdmVDaGFubmVsQ29uZmlnKCk7DQogICAgYCwNCiAgICBjaGFubmVsRWRpdG9yOiBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxFZGl0b3JNZW51OiB0cnVlLA0KICAgIGNsZWFyQ2hhbm5lbEVkaXRvck1lbnU6IGBAZGVzdHJveSh0aGlzKTtgDQp9DQoNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHNhdmVDaGFubmVsQ29uZmlnKTsNCg0KY29uc3QgbmV3Q29uZmlnTWVudUl0ZW0gPSB7DQogICAgbGFiZWw6ICJhZGQgbmV3IGNvbnRleHQiLA0KICAgIG9uQ2xpY2s6IGBADQogICAgICAgIGNvbnN0IG5ld0NvbnRleHROYW1lID0gYXdhaXQgb3Muc2hvd0lucHV0KG51bGwsIHt0aXRsZTogImNvbnRleHQifSk7DQogICAgICAgIGxpbmtzLmNoYW5uZWxFZGl0b3IuZ2VuZXJhdGVDb25maWcoJHtuZXdDb250ZXh0TmFtZX0pOw0KICAgIGAsDQogICAgY2hhbm5lbEVkaXRvcjogZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxFZGl0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihuZXdDb25maWdNZW51SXRlbSk7DQoNCmNvbnN0IGNvbnRleHRNYXAgPSB7Li4ubGF1bmNoZXJCb3QudGFncy5jb250ZXh0TWFwfTsNCmZvciAoY29uc3QgY29udGV4dCBvZiBjb250ZXh0TWFwKSB7DQogICAgY29uc3QgY29udGV4dE1lbnVJdGVtID0gew0KICAgICAgICBsYWJlbDogImVkaXQgY29udGV4dDogIiArIGNvbnRleHQsDQogICAgICAgIG9uQ2xpY2s6IGBADQogICAgICAgICAgICBsaW5rcy5jaGFubmVsRWRpdG9yLmdlbmVyYXRlQ29uZmlnKCR7Y29udGV4dH0pOw0KICAgICAgICBgLA0KICAgICAgICBjaGFubmVsRWRpdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgICAgICBjaGFubmVsRWRpdG9yTWVudTogdHJ1ZSwNCiAgICAgICAgY2xlYXJDaGFubmVsRWRpdG9yTWVudTogYEBkZXN0cm95KHRoaXMpO2ANCiAgICB9DQogICAgYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24oY29udGV4dE1lbnVJdGVtKTsNCn0nAPmv1egIAAtzYXZlQ29udGV4dAIEAPmv1egIgDSNAkBpZiAoIXRoYXQpIHsNCiAgICByZXR1cm47DQp9DQoNCmNvbnN0IGxhdW5jaGVyQm90ID0gZ2V0Qm90KCJzeXN0ZW0iLCBzeXN0ZW0gPT4gc3lzdGVtLmluY2x1ZGVzKCJjaGFubmVscy5sYXVuY2hlcnMuIikpOw0KY29uc3QgY29udGV4dE1hcCA9IHsuLi5sYXVuY2hlckJvdC50YWdzLmNvbnRleHRNYXB9Ow0KDQpjb250ZXh0TWFwW3RoYXQuY29udGV4dF0gPSB0aGF0LmRhdGE7DQoNCmxhdW5jaGVyQm90LnRhZ3MuY29udGV4dE1hcCA9ICfwn6esJyArIGNvbnRleHRNYXA7JwD5r9XoCAAGc3lzdGVtAgQA+a/V6AiMNiJzdHVkaW9fdG9vbGJveC50b29sLmNoYW5uZWwgZWRpdG9yJwD5r9XoCAANZGVsZXRlQ29udGV4dAIEAPmv1egIrzaIAkBpZiAoIXRoYXQpIHsNCiAgICByZXR1cm47DQp9DQoNCmNvbnN0IGxhdW5jaGVyQm90ID0gZ2V0Qm90KCJzeXN0ZW0iLCBzeXN0ZW0gPT4gc3lzdGVtLmluY2x1ZGVzKCJjaGFubmVscy5sYXVuY2hlcnMuIikpOw0KY29uc3QgY29udGV4dE1hcCA9IHsuLi5sYXVuY2hlckJvdC50YWdzLmNvbnRleHRNYXB9Ow0KDQpkZWxldGUgY29udGV4dE1hcFt0aGF0LmNvbnRleHRdOw0KDQpsYXVuY2hlckJvdC50YWdzLmNvbnRleHRNYXAgPSAn8J+nrCcgKyBjb250ZXh0TWFwOycA+a/V6AgAEXNhdmVDaGFubmVsQ29uZmlnAgQA+a/V6Ai2OLcBQGNvbnN0IGxhdW5jaGVyQm90ID0gZ2V0Qm90KCJzeXN0ZW0iLCBzeXN0ZW0gPT4gc3lzdGVtLmluY2x1ZGVzKCJjaGFubmVscy5sYXVuY2hlcnMuIikpOw0KY29uc3QgY2hhbm5lbElEID0gbGF1bmNoZXJCb3Q/LnRhZ3M/LmNoYW5uZWxJRDsNCg0KbGlua3MuY2hhbm5lbExvYWRlci5zYXZlQ2hhbm5lbChjaGFubmVsSUQpJwD5r9XoCAANY2hhbm5lbExvYWRlcgIEAPmv1egI7jko8J+Ul2E5YjZhYTBkLWIzNTctNGRlNi05YmVmLTg1MzQ4YWIxZDBlMCcA+a/V6AgACG9uQ3JlYXRlAgQA+a/V6AiVOhZAdGFncy5hYklnbm9yZSA9IHRydWU7JwD5r9XoCAAJYWJWZXJzaW9uAgQA+a/V6AisOhY5LjY2LjEuMS4xNzUwNDM5MjAzODc2JwD5r9XoCAAOc3R1ZGlvX3Rvb2xib3gCBAD5r9XoCMM6BHRydWUnAQRib3RzJGQ3YTg0YjE1LTU0MGItNDU0My1iMzBkLTQ1YzczNjM1NmYxZQEnAPmv1egIyDoHYWJBZGFwdAIEAPmv1egIyTopQHRhZ3MuY29sb3IgPSBhYlJlbW1iZXIudGFncy5hYkJhc2VDb2xvcjsnAPmv1egIyDoQYWJHcmlkTWVudUFjdGlvbgIEAPmv1egI8zqREEBjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9ICJhYlRvb2xib3hNZW51IjsKCmNvbnN0IHBvc3NpYmxlVG9vbHMgPSBnZXRCb3RzKCJzeXN0ZW0iKTsKCi8vSWYgc3lzdGVtIHRhZyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgbmFtZSBvZiB0aGUgdG9vbGJveAovL3NldCB0b29sYm94IG5hbWUgaGVyZSB0byBjb3JyZWN0bHkgZ3JhYiB0aGUgdG9vbHMKY29uc3QgdG9vbGJveE5hbWUgPSAic3R1ZGlvX3Rvb2xib3giOwoKY29uc3QgZ3JpZEluZm9ybWF0aW9uID0gYWJSZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzOwpjb25zdCBtZW51Qm90cyA9IFtdOwpjb25zdCB0b29sQm90QnV0dG9uID0ge307Cgp0b29sQm90QnV0dG9uLnNwYWNlID0gInRlbXBMb2NhbCI7CnRvb2xCb3RCdXR0b24ubWVudUl0ZW1TdHlsZSA9IHsiYm9yZGVyLXJhZGl1cyI6IjhweCIsICJtYXJnaW4tdG9wIjoiM3B4In07CnRvb2xCb3RCdXR0b24uYWJUb29sYm94UmVzZXQgPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnRvb2xCb3RCdXR0b24ubGFiZWxBbGlnbm1lbnQgPSAibGVmdCI7CnRvb2xCb3RCdXR0b24uYWJUb29sYm94TWVudSA9IHRydWU7CnRvb2xCb3RCdXR0b24uZ3JpZEluZm9ybWF0aW9uID0gdGhhdD8uZ3JpZEluZm9ybWF0aW9uID8gewogICAgW3RoYXQ/LmdyaWRJbmZvcm1hdGlvbj8uZGltZW5zaW9uXTogdHJ1ZSwgCiAgICBbdGhhdD8uZ3JpZEluZm9ybWF0aW9uPy5kaW1lbnNpb24gKyAiWCJdOiB0aGF0Py5ncmlkSW5mb3JtYXRpb24/LnBvc2l0aW9uLngsIAogICAgW3RoYXQ/LmdyaWRJbmZvcm1hdGlvbj8uZGltZW5zaW9uICsgIlkiXTogdGhhdD8uZ3JpZEluZm9ybWF0aW9uPy5wb3NpdGlvbi55LCAKICAgIGxpc3RlbmluZzogdHJ1ZSwgCiAgICBzeXN0ZW06IG51bGwsCiAgICBjcmVhdG9yOiBudWxsCn0gOgp7CiAgICBbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbl06IHRydWUsIAogICAgW2dyaWRJbmZvcm1hdGlvbi5kaW1lbnNpb24gKyAiWCJdOiBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueCwgCiAgICBbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJZIl06IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi55LCAKICAgIGxpc3RlbmluZzogdHJ1ZSwgCiAgICBzeXN0ZW06IG51bGwsCiAgICBjcmVhdG9yOiBudWxsCn07CnRvb2xCb3RCdXR0b24ub25DbGljayA9IGBAIGNyZWF0ZShsaW5rcy5iYXNlVG9vbCwgdGhpc0JvdC50YWdzLmdyaWRJbmZvcm1hdGlvbik7IHNob3V0KCdhYlRvb2xib3hSZXNldCcpOyBzaG91dCgnYWJDbGljaycpOyBgOwoKZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NzaWJsZVRvb2xzLmxlbmd0aDsgaSsrKQp7CiAgICBjb25zdCBjdXJyZW50UG9zc2libGUgPSBwb3NzaWJsZVRvb2xzW2ldOwogICAgY29uc3QgcG9zc2libGVTeXN0ZW1UYWcgPSBjdXJyZW50UG9zc2libGUudGFncy5zeXN0ZW07CiAgICBjb25zdCB0b29sUHJlZml4ID0gdG9vbGJveE5hbWUgKyAiLnRvb2wuIjsKCiAgICBpZiAocG9zc2libGVTeXN0ZW1UYWcuaW5kZXhPZih0b29sUHJlZml4KSAhPSAtMSkKICAgIHsKICAgICAgICBjb25zdCBjdXJyZW50VG9vbCA9IGN1cnJlbnRQb3NzaWJsZTsKICAgICAgICBjb25zdCB0b29sSW5kZXggPSBjdXJyZW50VG9vbC50YWdzLnN5c3RlbS5pbmRleE9mKCIudG9vbC4iKTsKICAgICAgICBjb25zdCB0b29sTmFtZSA9IGN1cnJlbnRUb29sLnRhZ3Muc3lzdGVtLnN1YnN0cmluZyh0b29sSW5kZXggKyA2KTsKCiAgICAgICAgdG9vbEJvdEJ1dHRvbi5sYWJlbCA9IHRvb2xOYW1lOwogICAgICAgIHRvb2xCb3RCdXR0b24uY29sb3IgPSBjdXJyZW50VG9vbC50YWdzLmNvbG9yOwogICAgICAgIHRvb2xCb3RCdXR0b24uYmFzZVRvb2wgPSBnZXRMaW5rKGN1cnJlbnRUb29sKTsKCiAgICAgICAgY29uc3QgbmV3TWVudUJvdCA9IGF3YWl0IGNyZWF0ZSh0b29sQm90QnV0dG9uKTsKCiAgICAgICAgbWVudUJvdHMucHVzaChuZXdNZW51Qm90KTsKICAgIH0KfQoKbWFza3Mub25HcmlkQ2xpY2sgPSBgQCB0aGlzQm90LmFiVG9vbGJveFJlc2V0KCk7YDsKbWFza3MubWVudUJvdHMgPSBnZXRMaW5rKG1lbnVCb3RzKTsnAPmv1egIyDoPYWJHcmlkTWVudUNvbG9yAgQA+a/V6AiFSwcjNEJCN0U2JwD5r9XoCMg6DmFiR3JpZE1lbnVJY29uAgQA+a/V6AiNSxNob21lX3JlcGFpcl9zZXJ2aWNlJwD5r9XoCMg6FGFiR3JpZE1lbnVPbkdlbmVyYXRlAgQA+a/V6AihS1ZAY29uc3Qgc3lzdGVtVGFnID0gbGlua3MuYmFzZVNraWxsLnRhZ3Muc3lzdGVtOwoKdGFncy5sYWJlbCA9IHN5c3RlbVRhZy5zdWJzdHJpbmcoMTEpOycA+a/V6AjIOg5hYlRvb2xib3hSZXNldAIEAPmv1egI+EtOQGlmIChsaW5rcy5tZW51Qm90cykKewogICAgZGVzdHJveShsaW5rcy5tZW51Qm90cyk7Cn0KCmNsZWFyVGFnTWFza3ModGhpc0JvdCk7JwD5r9XoCMg6CWFiVmVyc2lvbgIEAPmv1egIx0wWOS42Ni4xLjEuMTc1MDQzOTIwMzg3NicA+a/V6AjIOg1hY3RpdmVNZW51VGFnAgQA+a/V6AjeTJEQQGNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiVG9vbGJveE1lbnUiOwoKY29uc3QgcG9zc2libGVUb29scyA9IGdldEJvdHMoInN5c3RlbSIpOwoKLy9JZiBzeXN0ZW0gdGFnIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBuYW1lIG9mIHRoZSB0b29sYm94Ci8vc2V0IHRvb2xib3ggbmFtZSBoZXJlIHRvIGNvcnJlY3RseSBncmFiIHRoZSB0b29scwpjb25zdCB0b29sYm94TmFtZSA9ICJzdHVkaW9fdG9vbGJveCI7Cgpjb25zdCBncmlkSW5mb3JtYXRpb24gPSBhYlJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXM7CmNvbnN0IG1lbnVCb3RzID0gW107CmNvbnN0IHRvb2xCb3RCdXR0b24gPSB7fTsKCnRvb2xCb3RCdXR0b24uc3BhY2UgPSAidGVtcExvY2FsIjsKdG9vbEJvdEJ1dHRvbi5tZW51SXRlbVN0eWxlID0geyJib3JkZXItcmFkaXVzIjoiOHB4IiwgIm1hcmdpbi10b3AiOiIzcHgifTsKdG9vbEJvdEJ1dHRvbi5hYlRvb2xib3hSZXNldCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKdG9vbEJvdEJ1dHRvbi5sYWJlbEFsaWdubWVudCA9ICJsZWZ0IjsKdG9vbEJvdEJ1dHRvbi5hYlRvb2xib3hNZW51ID0gdHJ1ZTsKdG9vbEJvdEJ1dHRvbi5ncmlkSW5mb3JtYXRpb24gPSB0aGF0Py5ncmlkSW5mb3JtYXRpb24gPyB7CiAgICBbdGhhdD8uZ3JpZEluZm9ybWF0aW9uPy5kaW1lbnNpb25dOiB0cnVlLCAKICAgIFt0aGF0Py5ncmlkSW5mb3JtYXRpb24/LmRpbWVuc2lvbiArICJYIl06IHRoYXQ/LmdyaWRJbmZvcm1hdGlvbj8ucG9zaXRpb24ueCwgCiAgICBbdGhhdD8uZ3JpZEluZm9ybWF0aW9uPy5kaW1lbnNpb24gKyAiWSJdOiB0aGF0Py5ncmlkSW5mb3JtYXRpb24/LnBvc2l0aW9uLnksIAogICAgbGlzdGVuaW5nOiB0cnVlLCAKICAgIHN5c3RlbTogbnVsbCwKICAgIGNyZWF0b3I6IG51bGwKfSA6CnsKICAgIFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uXTogdHJ1ZSwgCiAgICBbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJYIl06IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi54LCAKICAgIFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlkiXTogZ3JpZEluZm9ybWF0aW9uLnBvc2l0aW9uLnksIAogICAgbGlzdGVuaW5nOiB0cnVlLCAKICAgIHN5c3RlbTogbnVsbCwKICAgIGNyZWF0b3I6IG51bGwKfTsKdG9vbEJvdEJ1dHRvbi5vbkNsaWNrID0gYEAgY3JlYXRlKGxpbmtzLmJhc2VUb29sLCB0aGlzQm90LnRhZ3MuZ3JpZEluZm9ybWF0aW9uKTsgc2hvdXQoJ2FiVG9vbGJveFJlc2V0Jyk7IHNob3V0KCdhYkNsaWNrJyk7IGA7Cgpmb3IgKGxldCBpID0gMDsgaSA8IHBvc3NpYmxlVG9vbHMubGVuZ3RoOyBpKyspCnsKICAgIGNvbnN0IGN1cnJlbnRQb3NzaWJsZSA9IHBvc3NpYmxlVG9vbHNbaV07CiAgICBjb25zdCBwb3NzaWJsZVN5c3RlbVRhZyA9IGN1cnJlbnRQb3NzaWJsZS50YWdzLnN5c3RlbTsKICAgIGNvbnN0IHRvb2xQcmVmaXggPSB0b29sYm94TmFtZSArICIudG9vbC4iOwoKICAgIGlmIChwb3NzaWJsZVN5c3RlbVRhZy5pbmRleE9mKHRvb2xQcmVmaXgpICE9IC0xKQogICAgewogICAgICAgIGNvbnN0IGN1cnJlbnRUb29sID0gY3VycmVudFBvc3NpYmxlOwogICAgICAgIGNvbnN0IHRvb2xJbmRleCA9IGN1cnJlbnRUb29sLnRhZ3Muc3lzdGVtLmluZGV4T2YoIi50b29sLiIpOwogICAgICAgIGNvbnN0IHRvb2xOYW1lID0gY3VycmVudFRvb2wudGFncy5zeXN0ZW0uc3Vic3RyaW5nKHRvb2xJbmRleCArIDYpOwoKICAgICAgICB0b29sQm90QnV0dG9uLmxhYmVsID0gdG9vbE5hbWU7CiAgICAgICAgdG9vbEJvdEJ1dHRvbi5jb2xvciA9IGN1cnJlbnRUb29sLnRhZ3MuY29sb3I7CiAgICAgICAgdG9vbEJvdEJ1dHRvbi5iYXNlVG9vbCA9IGdldExpbmsoY3VycmVudFRvb2wpOwoKICAgICAgICBjb25zdCBuZXdNZW51Qm90ID0gYXdhaXQgY3JlYXRlKHRvb2xCb3RCdXR0b24pOwoKICAgICAgICBtZW51Qm90cy5wdXNoKG5ld01lbnVCb3QpOwogICAgfQp9CgptYXNrcy5vbkdyaWRDbGljayA9IGBAIHRoaXNCb3QuYWJUb29sYm94UmVzZXQoKTtgOwptYXNrcy5tZW51Qm90cyA9IGdldExpbmsobWVudUJvdHMpOycA+a/V6AjIOhBhZHZhbmNlZF90b29sYm94AgQA+a/V6AjwXAR0cnVlJwD5r9XoCMg6BWNvbG9yAgQA+a/V6Aj1XAcjNEJCN0U2JwD5r9XoCMg6BWxhYmVsAgQA+a/V6Aj9XApzdHVkaW8ga2l0KAD5r9XoCMg6CWxpc3RlbmluZwF4JwD5r9XoCMg6B29uQ2xpY2sCBAD5r9XoCIld1wFAdGhpc0JvdC5hYkdyaWRNZW51QWN0aW9uKHsKICAgIFtjb25maWdCb3QudGFncy5ncmlkUG9ydGFsXTogdHJ1ZSwgCiAgICBbY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbCArICJYIl06IDAsIAogICAgW2NvbmZpZ0JvdC50YWdzLmdyaWRQb3J0YWwgKyAiWSJdOiAwLCAKICAgIGxpc3RlbmluZzogdHJ1ZSwgCiAgICBzeXN0ZW06IG51bGwsCiAgICBjcmVhdG9yOiBudWxsCn0pOycA+a/V6AjIOghvbkNyZWF0ZQIEAPmv1egI4V5DQHRhZ3MuYWJHcmlkTWVudUFjdGlvbiA9IHRhZ3MuYWN0aXZlTWVudVRhZzsNCnRhZ3MuYWJJZ25vcmUgPSB0cnVlOycA+a/V6AjIOgZzeXN0ZW0CBAD5r9XoCKVfFWFiLnRvb2xib3guc3R1ZGlvIGtpdCcA+a/V6AjIOgRmb3JtAgQA+a/V6Ai7Xwdub3RoaW5nJwD5r9XoCMg6DnN0dWRpb190b29sYm94AgQA+a/V6AjDXwR0cnVlJwEEYm90cyRkZjc3NTM3MC02MDkzLTQzMzYtYjAwZi0xZDY1OTRkZTZjMWQBJwD5r9XoCMhfDWNoYW5uZWxMb2FkZXICBAD5r9XoCMlfKPCflJdhOWI2YWEwZC1iMzU3LTRkZTYtOWJlZi04NTM0OGFiMWQwZTAnAPmv1egIyF8NY3JlYXRlQ2hhbm5lbAIEAPmv1egI8F+5B0BpZiAoIXRhZ3MuY2hhbm5lbElEKSB7DQogICAgb3MudG9hc3QoIlVzZXIgbXVzdCBwcm92aWRlIGNoYW5uZWwgSUQiKTsNCiAgICByZXR1cm47DQp9DQoNCmNvbnN0IGNoYW5uZWxJRCA9ICdAJyArIHRhZ3MuY2hhbm5lbElEOw0KbGV0IHBhdHRlcm5TZXR0aW5nID0gdGFncy5wYXR0ZXJuU2V0dGluZzsNCmxldCBzdHVkaW9TZXR0aW5nID0gdGFncy5zdHVkaW9TZXR0aW5nOw0KDQppZiAoIXBhdHRlcm5TZXR0aW5nICYmICFzdHVkaW9TZXR0aW5nKSB7DQogICAgcGF0dGVyblNldHRpbmcgPSAiY2FzdWFsVHV0b3JpYWwiOw0KICAgIHN0dWRpb1NldHRpbmcgPSAiQUIiOw0KfSBlbHNlIGlmIChwYXR0ZXJuU2V0dGluZyAmJiAhc3R1ZGlvU2V0dGluZykgew0KICAgIHN0dWRpb1NldHRpbmcgPT0gYXV0aEJvdC5pZDsNCn0gZWxzZSBpZiAoIXBhdHRlcm5TZXR0aW5nICYmIHN0dWRpb1NldHRpbmcpIHsNCiAgICBvcy50b2FzdCgidXNlciBtdXN0IHByb3ZpZGUgcGF0dGVybiIpOw0KICAgIHJldHVybjsNCn0NCg0KY29uc3QgYmlvc1NldHRpbmdzID0gdGFncy5iaW9zU2V0dGluZyA/PyAiZnJlZSI7DQpjb25zdCBzaWRlbG9hZFNldHRpbmcgPSB0YWdzLnNpZGVsb2FkU2V0dGluZyA/PyBmYWxzZTsNCmNvbnN0IGluc3RTZXR0aW5nID0gdGFncy5pbnN0U2V0dGluZyA/PyBudWxsOw0KDQpsaW5rcy5jaGFubmVsTG9hZGVyLmNyZWF0ZUNoYW5uZWwoew0KICAgICAgICAnY2hhbm5lbElEJzogY2hhbm5lbElELA0KICAgICAgICAncGF0dGVyblNldHRpbmcnOiBwYXR0ZXJuU2V0dGluZywNCiAgICAgICAgJ3N0dWRpb1NldHRpbmcnOiBzdHVkaW9TZXR0aW5nLA0KICAgICAgICAnYmlvc1NldHRpbmdzJzogYmlvc1NldHRpbmdzLA0KICAgICAgICAnc2lkZWxvYWRTZXR0aW5nJzogc2lkZWxvYWRTZXR0aW5nLA0KICAgICAgICAnaW5zdFNldHRpbmcnOiBpbnN0U2V0dGluZw0KICAgIH0pJwD5r9XoCMhfBG1lbnUCBAD5r9XoCKpnKPCflJdiMzBjNmM1ZC1hNGY3LTQyNjYtYmEzOC0zOTNkYzk1ZTFlY2InAPmv1egIyF8Hb25DbGljawIEAPmv1egI0WfOIUAvL21ha2Ugc3VyZSB0aGUgdXNlciBpcyBsb2dnZWQgaW4NCmF3YWl0IG9zLnJlcXVlc3RBdXRoQm90SW5CYWNrZ3JvdW5kKCk7DQoNCmlmICghYXV0aEJvdCkgew0KICAgIHJldHVybjsNCn0NCg0Kc2hvdXQoImNsZWFyQ2hhbm5lbENyZWF0b3JNZW51Iik7DQpjb25maWdCb3QudGFncy5tZW51UG9ydGFsID0gImNoYW5uZWxDcmVhdG9yTWVudSI7DQoNCmNvbnN0IGNoYW5uZWxJRE1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAiY2hhbm5lbElEOiAiLA0KICAgIG9uQ2xpY2s6IGBADQogICAgICAgIGNvbnN0IG5ld0NoYW5uZWxJRCA9IGF3YWl0IG9zLnNob3dJbnB1dChudWxsLCB7DQogICAgICAgICAgICB0aXRsZTogImNoYW5uZWxJRCINCiAgICAgICAgfSk7DQogICAgICAgIGlmIChuZXdDaGFubmVsSUQpIHsNCiAgICAgICAgICAgIGxpbmtzLmNoYW5uZWxDcmVhdG9yLnRhZ3MuY2hhbm5lbElEID0gbmV3Q2hhbm5lbElEOw0KICAgICAgICAgICAgdGFncy5sYWJlbCA9ICJjaGFubmVsSUQ6ICIgKyBuZXdDaGFubmVsSUQ7DQogICAgICAgIH0NCiAgICBgLA0KICAgIGNoYW5uZWxDcmVhdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxDcmVhdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxDcmVhdG9yTWVudTogYEBkZXN0cm95KHRoaXMpO2ANCn0NCg0KY29uc3QgYmlvc01lbnVJdGVtID0gew0KICAgIGxhYmVsOiAiQklPUzogIiwNCiAgICBvbkNsaWNrOiBgQA0KICAgICAgICBjb25zdCBuZXdCSU9TID0gYXdhaXQgb3Muc2hvd0lucHV0KG51bGwsIHsNCiAgICAgICAgICAgIHRpdGxlOiAnQklPUycsDQogICAgICAgICAgICB0eXBlOiAnbGlzdCcsDQogICAgICAgICAgICBwbGFjZWhvbGRlcjogJ2Jpb3MnLA0KICAgICAgICAgICAgaXRlbXM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRnJlZScsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnZnJlZScNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdMb2NhbCcsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnbG9jYWwnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnU3R1ZGlvJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdzdHVkaW8nDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKG5ld0JJT1MpIHsNCiAgICAgICAgICAgIGxpbmtzLmNoYW5uZWxDcmVhdG9yLnRhZ3MuYmlvc1NldHRpbmcgPSBuZXdCSU9TLnZhbHVlOw0KICAgICAgICAgICAgdGFncy5sYWJlbCA9ICJCSU9TOiAiICsgbmV3QklPUy52YWx1ZTsNCiAgICAgICAgfQ0KICAgIGAsDQogICAgY2hhbm5lbENyZWF0b3I6IGF3YWl0IGdldExpbmsodGhpc0JvdCksDQogICAgY2hhbm5lbENyZWF0b3JNZW51OiB0cnVlLA0KICAgIGNsZWFyQ2hhbm5lbENyZWF0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBzaWRlTG9hZE1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAic2lkZWxvYWQ6ICIsDQogICAgb25DbGljazogYEANCiAgICAgICAgY29uc3QgbmV3U2lkZWxvYWQgPSBhd2FpdCBvcy5zaG93SW5wdXQoZmFsc2UsIHsNCiAgICAgICAgICAgIHRpdGxlOiAnc2lkZWxvYWQnLA0KICAgICAgICAgICAgdHlwZTogJ2xpc3QnLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdpbnN0JywNCiAgICAgICAgICAgIGl0ZW1zOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ3RydWUnLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ2ZhbHNlJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9KTsNCiAgICAgICAgbGlua3MuY2hhbm5lbENyZWF0b3IudGFncy5zaWRlbG9hZFNldHRpbmcgPSBuZXdTaWRlbG9hZC52YWx1ZTsNCiAgICAgICAgdGFncy5sYWJlbCA9ICJzaWRlbG9hZDogIiArIG5ld1NpZGVsb2FkLnZhbHVlOw0KICAgICAgICANCiAgICBgLA0KICAgIGNoYW5uZWxDcmVhdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxDcmVhdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxDcmVhdG9yTWVudTogYEBkZXN0cm95KHRoaXMpO2ANCn0NCg0KY29uc3QgaW5zdE1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAiaW5zdDogIiwNCiAgICBvbkNsaWNrOiBgQA0KICAgICAgICBjb25zdCBuZXdJbnN0ID0gYXdhaXQgb3Muc2hvd0lucHV0KG51bGwsIHsNCiAgICAgICAgICAgIHRpdGxlOiAnaW5zdCcsDQogICAgICAgIH0pOw0KDQogICAgICAgIGlmIChuZXdJbnN0KSB7DQogICAgICAgICAgIGxpbmtzLmNoYW5uZWxDcmVhdG9yLnRhZ3MuaW5zdFNldHRpbmcgPSBuZXdJbnN0Ow0KICAgICAgICAgICAgdGFncy5sYWJlbCA9ICJpbnN0OiAiICsgbmV3SW5zdDsgDQogICAgICAgIH0NCiAgICBgLA0KICAgIGNoYW5uZWxDcmVhdG9yOiBhd2FpdCBnZXRMaW5rKHRoaXNCb3QpLA0KICAgIGNoYW5uZWxDcmVhdG9yTWVudTogdHJ1ZSwNCiAgICBjbGVhckNoYW5uZWxDcmVhdG9yTWVudTogYEBkZXN0cm95KHRoaXMpO2ANCn0NCg0KY29uc3QgcGF0dGVybk1lbnVJdGVtID0gew0KICAgIGxhYmVsOiAicGF0dGVybjogIiwNCiAgICBvbkNsaWNrOiBgQA0KICAgICAgICBjb25zdCBuZXdQYXR0ZXJuID0gYXdhaXQgb3Muc2hvd0lucHV0KG51bGwsIHsNCiAgICAgICAgICAgIHRpdGxlOiAncGF0dGVybicsDQogICAgICAgIH0pOw0KDQogICAgICAgIGlmIChuZXdQYXR0ZXJuKSB7DQogICAgICAgICAgICBsaW5rcy5jaGFubmVsQ3JlYXRvci50YWdzLnBhdHRlcm5TZXR0aW5nID0gbmV3UGF0dGVybjsNCiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAicGF0dGVybjogIiArIG5ld1BhdHRlcm47IA0KICAgICAgICB9DQogICAgYCwNCiAgICBjaGFubmVsQ3JlYXRvcjogYXdhaXQgZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsQ3JlYXRvck1lbnU6IHRydWUsDQogICAgY2xlYXJDaGFubmVsQ3JlYXRvck1lbnU6IGBAZGVzdHJveSh0aGlzKTtgDQp9DQoNCmNvbnN0IHN0dWRpb01lbnVJdGVtID0gew0KICAgIGxhYmVsOiAic3R1ZGlvOiAiLA0KICAgIG9uQ2xpY2s6IGBADQogICAgICAgIGNvbnN0IG5ld1N0dWRpbyA9IGF3YWl0IG9zLnNob3dJbnB1dChudWxsLCB7DQogICAgICAgICAgICB0aXRsZTogJ3N0dWRpbycsDQogICAgICAgIH0pOw0KDQogICAgICAgIGlmIChuZXdTdHVkaW8pIHsNCiAgICAgICAgICAgIGxpbmtzLmNoYW5uZWxDcmVhdG9yLnRhZ3Muc3R1ZGlvU2V0dGluZyA9IG5ld1N0dWRpbzsNCiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAic3R1ZGlvOiAiICsgbmV3U3R1ZGlvOyANCiAgICAgICAgfQ0KICAgIGAsDQogICAgY2hhbm5lbENyZWF0b3I6IGdldExpbmsodGhpc0JvdCksDQogICAgY2hhbm5lbENyZWF0b3JNZW51OiB0cnVlLA0KICAgIGNsZWFyQ2hhbm5lbENyZWF0b3JNZW51OiBgQGRlc3Ryb3kodGhpcyk7YA0KfQ0KDQpjb25zdCBjcmVhdGVNZW51SXRlbSA9IHsNCiAgICBsYWJlbDogImNyZWF0ZSBjaGFubmVsIiwNCiAgICBvbkNsaWNrOiBgQA0KICAgICAgICBsaW5rcy5jaGFubmVsQ3JlYXRvci5jcmVhdGVDaGFubmVsKCk7DQogICAgYCwNCiAgICBjaGFubmVsQ3JlYXRvcjogZ2V0TGluayh0aGlzQm90KSwNCiAgICBjaGFubmVsQ3JlYXRvck1lbnU6IHRydWUsDQogICAgY2xlYXJDaGFubmVsQ3JlYXRvck1lbnU6IGBAZGVzdHJveSh0aGlzKTtgDQp9DQoNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKGNoYW5uZWxJRE1lbnVJdGVtKTsNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKGJpb3NNZW51SXRlbSk7DQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihzaWRlTG9hZE1lbnVJdGVtKTsNCmF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKGluc3RNZW51SXRlbSk7DQphd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihwYXR0ZXJuTWVudUl0ZW0pOw0KYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24oc3R1ZGlvTWVudUl0ZW0pOw0KYXdhaXQgbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24oY3JlYXRlTWVudUl0ZW0pOycA+a/V6AjIXwtvbkdyaWRDbGljawIEAPmv1egIoIkBIkBzaG91dCgiY2xlYXJDaGFubmVsQ3JlYXRvck1lbnUiKTsnAPmv1egIyF8Gc3lzdGVtAgQA+a/V6AjDiQEjc3R1ZGlvX3Rvb2xib3gudG9vbC5jaGFubmVsIGNyZWF0b3InAPmv1egIyF8Ib25DcmVhdGUCBAD5r9XoCOeJARZAdGFncy5hYklnbm9yZSA9IHRydWU7JwD5r9XoCMhfCWFiVmVyc2lvbgIEAPmv1egI/okBFjkuNjYuMS4xLjE3NTA0MzkyMDM4NzYnAPmv1egIyF8Oc3R1ZGlvX3Rvb2xib3gCBAD5r9XoCJWKAQR0cnVlAA=="}]}