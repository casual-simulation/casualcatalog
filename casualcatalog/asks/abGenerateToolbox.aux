{"version":1,"state":{"d044112f-1b8e-4373-a0dd-30ebc9a754a7":{"id":"d044112f-1b8e-4373-a0dd-30ebc9a754a7","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","system":"abGenerateToolbox.template","template_abGridMenuAction":"@shout(\"abToolboxReset\");\n\nconfigBot.masks.menuPortal = \"abToolboxMenu\";\n\nconst toolboxTools = tags.tool_array ?? [];\nconst gridInformation = that.gridInformation ?? abRemember.tags.abGridFocus;\nconst menuBots = [];\n\nif (toolboxTools.length === 0) {\n    const toolboxName = tags.system.substring(11);\n    const message = toolboxName + \" does not have any tools listed in the tool_array tag\";\n\n    ab.log(abRemember.tags.abBuilderIdentity + \": \" + message);\n    os.toast(message, 5);\n    console.error(message);\n}\n\nfor (let tool of toolboxTools) {\n    const toolButton = links.menu.abCreateMenuButton({\n        space: \"tempLocal\",\n        abToolboxMenu: true,\n        search: tags.search,\n        toolbox: getLink(thisBot),\n        color: links.remember.tags.abBaseStrokeColor,\n        gridInformation,\n        label: tool.name,\n        targetAB: tool.targetAB,\n        abToolboxReset: `@\n            destroy(thisBot);\n        `,\n        onClick: `@\n            links.search.onLookupAskID({\n                askID: tags.targetAB,\n                eggParameters: {\n                    toolboxBot: tags.toolbox,\n                    gridInformation: tags.gridInformation\n                },\n                sourceEvent: 'tool',\n            })\n        `,\n    });\n\n    menuBots.push(toolButton);\n}\n\nmasks.onGridClick = `@\n    thisBot.abToolboxReset();\n`;\nmasks.menuBots = getLink(menuBots);\n","template_abToolboxReset":"@if (links.menuBots) {\n    destroy(links.menuBots);\n}\n\nclearTagMasks(thisBot);","template_abGridMenuOnGenerate":"@const systemTag = links.baseSkill.tags.system;\n\ntags.label = systemTag.substring(11);","template_abAdapt":"@if (configBot.tags.toolbox) {\n    links.ask.abCoreMenuAction({ message: configBot.tags.toolbox });\n}","template_abGridMenuIcon":"home_repair_service","template_abGridMenuSortOrder":"3","template_abIgnore":"true","template_ask":"ðŸ”—c85c1d6-9f1a-40d4-82e1-5bd680349c27","template_learn":"ðŸ”—6657b865-e983-4401-9fc9-f5418d18a7f7","template_menu":"ðŸ”—b30c6c5d-a4f7-4266-ba38-393dc95e1ecb","template_remember":"ðŸ”—e5380a6b-8b4d-4a8b-8b04-58e1eb03e5e7","template_search":"ðŸ”—d8371444-9158-4436-8fc7-84cc91b7f525","template_tool_array":"ðŸ§¬[\n    {\n        \"name\": \"generate hello, world!\",\n        \"studio\": \"6db28ddc-1835-4fb4-8ed3-5ccf26c02217\",\n        \"targetAB\": \"abHelloWorld\"\n    }\n]","abGenerateToolbox":true,"abVersion":"10.5","abGenerateToolboxX":1,"abGenerateToolboxY":0,"abGenerateToolboxZ":0,"abIDOrigin":"abGenerateToolbox"}},"dedeac25-791d-44ee-b495-3a08ce0e0eb0":{"id":"dedeac25-791d-44ee-b495-3a08ce0e0eb0","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","system":"abGenerateToolbox.wizard","label":"toolbox wizard","cursor":"pointer","formOpacity":"0.33","strokeColor":"white","labelPosition":"floatingBillboard","createToolbox":"@const { \n    name = 'blank toolbox'\n} = that;\n\nconst toolboxMod = {\n    space: 'shared',\n    [name]: true,\n    system: `ab.toolbox.${name}`,\n};\n\n// All other tags for the new toolbox come from the template bot's tags that are prefixed with \"template_\".\nfor (let tag in links.template.tags) {\n    if (tag.startsWith('template_')) {\n        const realTag = tag.substring('template_'.length);\n        toolboxMod[realTag] = links.template.raw[tag];\n    }\n}\n\nconst toolboxBot = create(toolboxMod);\ntoolboxBot.tags.creator = null;\n\nreturn toolboxBot;","onClick":"@const {\n    dimension,\n} = that;\n\nlet toolboxName = await os.showInput(null, { title: 'What would you like to call this new toolbox?'});\n\nif (!toolboxName) {\n    return;\n}\n\nif (toolboxName.includes('.')) {\n    const message = `Toolbox names cannot have periods in them.`;\n\n    ab.log(`${abRemember.tags.abBuilderIdentity}: ${message}`);\n    os.toast(message, 5);\n    console.error(message);\n}\n\nconst toolboxBot = thisBot.createToolbox({ name: toolboxName });\n\nconfigBot.tags.systemPortal = 'ab.toolbox';\nconfigBot.tags.systemPortalBot = toolboxBot.id;\nconfigBot.tags.systemPortalTag = 'tool_array';\n\nconst message = `Created toolbox named '${toolboxName}'. You can find it easily here in the system portal under '${toolboxBot.tags.system}'. Don't forget to fill out the tool_array tag!`\nab.log(`${abRemember.tags.abBuilderIdentity}: ${message}`);\nos.toast(message, 8);\nconsole.log(message);\n\nif (tags.destroyAfterUse) {\n    destroy([ thisBot, links.template ]);\n}","template":"ðŸ”—d044112f-1b8e-4373-a0dd-30ebc9a754a7","abGenerateToolbox":true,"abVersion":"10.5","onEggHatch":"@if (that.eggParameters) {\n    const dimension = that.eggParameters.gridInformation?.dimension ?? 'home';\n    const dimensionX = that.eggParameters.gridInformation?.position?.x ?? 0;\n    const dimensionY = that.eggParameters.gridInformation?.position?.y ?? 0;\n\n    tags[dimension] = true;\n    tags[dimension + 'X'] = dimensionX;\n    tags[dimension + 'Y'] = dimensionY;\n}\n","destroyAfterUse":"true","abIgnore":"true","labelWordWrapMode":"breakWords","abGenerateToolboxX":-2,"abGenerateToolboxY":0,"abGenerateToolboxZ":0,"home":true,"homeX":-5,"homeY":-6,"abIDOrigin":"abGenerateToolbox"}}}}