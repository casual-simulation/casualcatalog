{"version":1,"state":{"e7f80e59-f4d5-43d4-b016-e5a0a13c3338":{"id":"e7f80e59-f4d5-43d4-b016-e5a0a13c3338","space":"shared","tags":{"system":"curiosity_toolbox.tools.artifactJournal","onClick":"@let rotURL = '';\r\nos.openURL(rotURL);","cursor":"pointer","abVersion":"10.6","abIDOrigin":"homePlace","labelWordWrapMode":"breakWords","homeWorldBot":"true","abArtifactName":"artifactJournal","onABArtifactCollectShards":"@const shard: ABArtifactShard = {\r\n    data: {\r\n        url: tags.journalURL,\r\n        label: tags.journalLabel,\r\n        dimensionData: {\r\n            dimension: [ab.links.remember.tags.abActiveDimension],\r\n            [ab.links.remember.tags.abActiveDimension]: tags[ab.links.remember.tags.abActiveDimension],\r\n            [ab.links.remember.tags.abActiveDimension + 'X']: tags[ab.links.remember.tags.abActiveDimension + 'X'],\r\n            [ab.links.remember.tags.abActiveDimension + 'Y']: tags[ab.links.remember.tags.abActiveDimension + 'Y'],\r\n            [ab.links.remember.tags.abActiveDimension + 'Z']: tags[ab.links.remember.tags.abActiveDimension + 'Z'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationX']: tags[ab.links.remember.tags.abActiveDimension + 'RotationX'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationY']: tags[ab.links.remember.tags.abActiveDimension + 'RotationY'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationZ']: tags[ab.links.remember.tags.abActiveDimension + 'RotationZ'],\r\n        },\r\n        scaleX: tags.scaleX,\r\n        scaleY: tags.scaleY,\r\n        scaleZ: tags.scaleZ,\r\n        color: tags.color,\r\n        labelFloatingBackgroundColor: tags.journalLabelFloatingBackgroundColor,\r\n        labelColor: tags.journalLabelColor,\r\n        form: tags.form,\r\n        formSubtype: tags.formSubtype,\r\n        formAddress: tags.formAddress,\r\n        formAddressAspectRatio: tags.formAddressAspectRatio\r\n    },\r\n    dependencies: [\r\n        {\r\n            askID: 'artifactJournal'\r\n        }\r\n    ]\r\n}\r\n\r\nreturn shard;","onABArtifactReconstitute":"@const data = that.data;\r\n\r\ntags.journalURL = data.url ?? undefined;\r\ntags.journalLabel = data.label ?? 'name me';\r\ntags.scaleX = data.scaleX ?? 1;\r\ntags.scaleY = data.scaleY ?? 1;\r\ntags.scaleZ = data.scaleZ ?? 2;\r\ntags.color = data.color ?? abPersonality?.tags?.abBaseColor ?? '#4BB7E6';\r\ntags.journalLabelFloatingBackgroundColor = data.labelFloatingBackgroundColor ?? abPersonality?.tags?.abBaseColor ?? '#4BB7E6'; \r\ntags.journalLabelColor = data.labelColor ?? abPersonality?.tags?.abBaseLabelColor ?? 'black';\r\ntags.form = data.form ?? 'hex';\r\ntags.formSubtype = data.formSubtype;\r\ntags.formAddress = data.formAddress;\r\ntags.formAddressAspectRatio = data.formAddressAspectRatio;\r\n\r\nif (data.dimensionData) {\r\n    for (const tagName in data.dimensionData) {\r\n        tags[tagName] = data.dimensionData[tagName];\r\n    }\r\n}\r\n\r\nif (data.eggParameters) {\r\n    const dimension = data.eggParameters.gridInformation?.dimension ?? 'home';\r\n    const dimensionX = data.eggParameters.gridInformation?.position?.x ?? 0;\r\n    const dimensionY = data.eggParameters.gridInformation?.position?.y ?? 0;\r\n\r\n    tags.dimension = dimension;\r\n    tags[dimension] = true;\r\n    tags[dimension + 'X'] = dimensionX;\r\n    tags[dimension + 'Y'] = dimensionY;\r\n}","scaleX":1,"scaleY":"2","scaleZ":"1","artifact":"ðŸ”—78e41503-c933-4f8a-817a-ba97bf8d5d27","learn":"ðŸ”—6657b865-e983-4401-9fc9-f5418d18a7f7","onBotChanged":"@const needUpdateBillboardLabel = that.tags.some(t => t === 'placeLabel' || t === 'placeLabelFloatingBackgroundColor' || t === 'placeLabelColor');\n\nif (needUpdateBillboardLabel && tags.ready) {\n    thisBot.updateBillboardLabel();\n}","updateBillboardLabel":"@if (thisBot.vars.billboardLabelBot) {\n    destroy(thisBot.vars.billboardLabelBot);\n    thisBot.vars.billboardLabelBot = null;\n}\n\nthisBot.vars.billboardLabelBot = ab.links.bot_factory.abCreateBillboardLabel({ \n    bot: thisBot, \n    label: tags.placeLabel,\n    color: tags.placeLabelFloatingBackgroundColor,\n    dimension: configBot.tags.mapPortal ?? 'home',\n    // botLabelMargin: 0,\n    labelColor: tags.placeLabelColor,\n    space: 'tempLocal',\n})","onBotAdded":"@let waitTime = 0;\n\nwhile(!globalThis.ab?.links.bot_factory) {\n    if (waitTime >= 5000) {\n        return;\n    }\n    \n    await os.sleep(250);\n    waitTime += 250;\n}\n\nmasks.ready = true;\n\nthisBot.updateBillboardLabel();","onABStripArtifactInstanceDataFromBotData":"@const { data } = that;\n\ndelete data.tags.journalURL;\ndelete data.tags.journalLabel;\ndelete data.tags.journalLabelColor;\ndelete data.tags.journalLabelFloatingBackgroundColor;\ndelete data.tags.color;\ndelete data.tags.form ;\ndelete data.tags.formSubtype;\ndelete data.tags.formAddress;\ndelete data.tags.formAddressAspectRatio;\n\n// [Ryan] These shouldn't be hardcode but i dont understand whats going on with dimensionData.\ndelete data.tags.dimension;\ndelete data.tags.home;\ndelete data.tags.homeX;\ndelete data.tags.homeY;\ndelete data.tags.homeZ;\ndelete data.tags.homeRotationX;\ndelete data.tags.homeRotationY;\ndelete data.tags.homeRotationZ;"}}}}