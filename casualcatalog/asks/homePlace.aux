{"version":1,"state":{"a66aed58-dfda-4cc2-90ea-c1328c6a8b79":{"id":"a66aed58-dfda-4cc2-90ea-c1328c6a8b79","space":"shared","tags":{"system":"place_toolbox.tools.homePlace","onClick":"@// os.toast('hello, world!');\r\nshout('abMenuRefresh');\r\n\r\nconfigBot.tags.menuPortal = 'home_place_menu';\r\n\r\nconst menuOptions = {\r\n    home_place_menu: true,\r\n    clearHomePlaceMenu: `@destroy(thisBot);`,\r\n    abMenuRefresh: \"@ destroy(thisBot);\",\r\n    place: getLink(thisBot)\r\n}\r\n\r\nconst setHomeBaseButton = {\r\n    ...menuOptions,\r\n    label: 'set as home place',\r\n    home_place_menuSortOrder: 1,\r\n    onClick: `@shout('setHomeBase', links.place); shout('clearHomePlaceMenu');`\r\n}\r\n\r\nconst renameButton = {\r\n    ...menuOptions,\r\n    label: 'rename place',\r\n    home_place_menuSortOrder: 2,\r\n    onClick: `@const newName = await os.showInput(links.place.tags.label, {\r\n        title: 'Name this place bot'\r\n    });\r\n    if (newName) {\r\n        links.place.tags.label = newName;\r\n    }\r\n    shout('clearHomePlaceMenu');\r\n    `\r\n}\r\n\r\nif (tags.homeBase != true) {\r\n    ab.links.menu.abCreateMenuButton(setHomeBaseButton);\r\n}\r\n\r\nab.links.menu.abCreateMenuButton(renameButton);\r\n\r\n//nav\r\nconst moveToPlaceButton = {\r\n    ...menuOptions,\r\n    label: 'places',\r\n    dropdownSortOrder: 3\r\n}\r\n\r\n// const moveArr = [];\r\n// const moveOptions = getBots('homePlace', true);\r\n// for (const option of moveOptions) {\r\n//     if (option == thisBot) {\r\n//         continue;\r\n//     }\r\n//     const optionObj = {\r\n//         label: option.tags.label,\r\n//         place: getLink(option),\r\n//         onClick: `@os.focusOn(links.place);\r\n//         shout('clearHomePlaceMenu');`\r\n//     }\r\n//     moveArr.push(optionObj);\r\n// }\r\n\r\n\r\n\r\n// ab.links.menu.abCreateMenuDropdown(moveToPlaceButton);\r\n\r\nconst dropdownOptions = [];\r\n\r\nconst currentDim = ab.links.remember.tags.abActiveDimension;\r\nconst currentPortal = configBot.tags.mapPortal ? \"map\" : configBot.tags.gridPortal == \"blueprint\" ? \"blueprint\" :\"grid\";\r\nconst activeMenu = configBot.tags.menuPortal;\r\n\r\nif (currentPortal != 'map') {\r\n    return;\r\n}\r\n\r\nconst homeButton = {\r\n    ...menuOptions,\r\n    label: \"home\",\r\n    formAddress: 'https://auth-aux-dev-filesbucket-682397690660.s3.amazonaws.com/318c04f1-1391-4c10-8d43-aaebc5170265/cd38affc0604beaa588da21aa1be750bb3e73b3b3cae23eb30307c34494459f3.png',\r\n    onClick: `@const homeBot = getBot(\"homeBase\", true);\r\n    if (homeBot) {\r\n        os.focusOn(homeBot);\r\n    }\r\n    shout(\"abMenuRefresh\");\r\n    `\r\n};\r\n\r\n\r\nif (getBot(\"homeBase\", true)) {\r\n    dropdownOptions.push(homeButton);\r\n}\r\n\r\nconst placesArr = [];\r\nconst places = getBots(\"homePlace\", true);\r\nfor (const hPlace of places) {\r\n    if (hPlace.tags.homeBase == true || hPlace == thisBot) {\r\n        continue;\r\n    }\r\n    const placeObj = {\r\n        ...menuOptions,\r\n        label: hPlace.tags.label,\r\n        formAddress: 'location_on',\r\n        place: getLink(hPlace),\r\n        onClick: `@\r\n            if (links.place) {\r\n                os.focusOn(links.place);\r\n            }\r\n            shout(\"abMenuRefresh\");\r\n            `\r\n    }\r\n\r\n    placesArr.push(placeObj);\r\n}\r\n\r\nplacesArr.sort((a, b) => {\r\n    const nameA = a.label.toUpperCase();\r\n    const nameB = b.label.toUpperCase();\r\n\r\n    if (nameA < nameB) {\r\n        return -1;\r\n    }\r\n    if (nameA > nameB) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n});\r\n\r\nfor (const sortedPlace of placesArr) {\r\n    dropdownOptions.push(sortedPlace);\r\n}\r\n\r\n\r\nconst currentLocationButton = {\r\n    ...menuOptions,\r\n    skillBot: tags.navigation,\r\n    label: 'current location',\r\n    formAddress: 'near_me',\r\n    onClick: `@\r\n        links.skillBot.goToCurrentLocation();\r\n        shout(\"abMenuRefresh\");\r\n    `\r\n}\r\n\r\ndropdownOptions.push(currentLocationButton);\r\n\r\nmoveToPlaceButton[\"dropdownOptions\"] = dropdownOptions;\r\nab.links.menu.abCreateMenuDropdown(moveToPlaceButton);","label":"name me","color":"#FB9E00","cursor":"pointer","onEggHatch":"@if (tags.label) {\n    setTagMask(thisBot, \"labelPosition\", \"floatingBillboard\", \"shared\");\n}\n\nif (that.eggParameters) {\n    const dimension = that.eggParameters.gridInformation?.dimension ?? 'home';\n    const dimensionX = that.eggParameters.gridInformation?.position?.x ?? 0;\n    const dimensionY = that.eggParameters.gridInformation?.position?.y ?? 0;\n\n    tags[dimension] = true;\n    tags[dimension + 'X'] = dimensionX;\n    tags[dimension + 'Y'] = dimensionY;\n\n    tags.color = abPersonality?.tags?.abBaseColor ?? '#00D9CD';\n    tags.labelFloatingBackgroundColor = abPersonality?.tags?.abBaseColor ?? '#00D9CD';\n    tags.labelColor = abPersonality?.tags?.abBaseLabelColor ?? 'black';\n    tags.label = \"name me\";\n\n    const name = await os.showInput('', {\n        title: 'Name this place bot'\n    });\n\n    tags.label = name;\n}","abVersion":"10.6","abIDOrigin":"home","home":true,"homeX":-85.67357902763068,"homeY":42.964594594594594,"homePlace":"true","form":"hex","scaleZ":2,"labelWordWrapMode":"breakWords","labelFloatingBackgroundColor":"#FB9E00","onGridClick":"@shout('clearHomePlaceMenu');","setHomeBase":"@if (that == thisBot) {\r\n    tags.scaleX = 2;\r\n    tags.scaleY = 2;\r\n    tags.scaleZ = 1;\r\n    tags.homeBase = true;\r\n} else {\r\n    tags.scaleX = 1;\r\n    tags.scaleY = 1;\r\n    tags.scaleZ = 2;\r\n    tags.homeBase = false;\r\n}","labelColor":"black","scaleX":1,"scaleY":1,"homeBase":false,"navigation":"ðŸ”—3a6cb9ca-b3b4-4d77-82f6-fa59b5296ec9","homeWorldBot":"true","abArtifactName":"homePlace","onABArtifactCollectShards":"@const shard: ABArtifactShard = {\r\n    data: {\r\n        homeBase: tags.homeBase,\r\n        label: tags.label,\r\n        homeX: tags.homeX,\r\n        homeY: tags.homeY,\r\n        scaleX: tags.scaleX,\r\n        scaleY: tags.scaleY,\r\n        scaleZ: tags.scaleZ,\r\n        color: tags.color,\r\n        labelFloatingBackgroundColor: tags.labelFloatingBackgroundColor\r\n    },\r\n    dependencies: [\r\n        {\r\n            askID: 'homePlace'\r\n        }\r\n    ]\r\n}\r\n\r\nreturn shard;","onABArtifactReconstitute":"@tags.homeBase = that.homeBase;\r\ntags.label = that.label;\r\ntags.homeX = that.homeX;\r\ntags.homeY = that.homeY;\r\ntags.scaleX = that.scaleX;\r\ntags.scaleY = that.scaleY;\r\ntags.scaleZ = that.scaleZ;\r\ntags.color = that.color;\r\ntags.labelFloatingBackgroundColor = that.labelFloatingBackgroundColor;"}}}}