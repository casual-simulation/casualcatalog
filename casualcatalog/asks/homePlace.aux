{"version":1,"state":{"8d8c3478-9c29-4336-bedf-f6ca3764c6a6":{"id":"8d8c3478-9c29-4336-bedf-f6ca3764c6a6","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","system":"home_base_toolbox.tools.homePlace","onClick":"@// os.toast('hello, world!');\r\nshout('abMenuRefresh');\r\n\r\nconfigBot.tags.menuPortal = 'home_place_menu';\r\n\r\nconst menuOptions = {\r\n    home_place_menu: true,\r\n    clearHomePlaceMenu: `@destroy(thisBot);`,\r\n    place: getLink(thisBot)\r\n}\r\n\r\nconst setHomeBaseButton = {\r\n    ...menuOptions,\r\n    label: 'set as home base',\r\n    home_place_menuSortOrder: 1,\r\n    onClick: `@shout('setHomeBase', links.place); shout('clearHomePlaceMenu');`\r\n}\r\n\r\nconst renameButton = {\r\n    ...menuOptions,\r\n    label: 'rename home place',\r\n    home_place_menuSortOrder: 2,\r\n    onClick: `@const newName = await os.showInput(links.place.tags.label, {\r\n        title: 'Name this place'\r\n    });\r\n    if (newName) {\r\n        links.place.tags.label = newName;\r\n    }\r\n    shout('clearHomePlaceMenu');\r\n    `\r\n}\r\n\r\nconst moveToPlaceButton = {\r\n    ...menuOptions,\r\n    label: 'move to other home place',\r\n    dropdownSortOrder: 3\r\n}\r\n\r\nconst moveArr = [];\r\nconst moveOptions = getBots('homePlace', true);\r\nfor (const option of moveOptions) {\r\n    if (option == thisBot) {\r\n        continue;\r\n    }\r\n    const optionObj = {\r\n        label: option.tags.label,\r\n        place: getLink(option),\r\n        onClick: `@os.focusOn(links.place);\r\n        shout('clearHomePlaceMenu');`\r\n    }\r\n    moveArr.push(optionObj);\r\n}\r\n\r\nmoveToPlaceButton[\"dropdownOptions\"] = moveArr;\r\n\r\nab.links.menu.abCreateMenuButton(setHomeBaseButton);\r\nab.links.menu.abCreateMenuButton(renameButton);\r\nab.links.menu.abCreateMenuDropdown(moveToPlaceButton);","label":"name me","color":"#FB9E00","cursor":"pointer","onEggHatch":"@if (tags.label) {\n    setTagMask(thisBot, \"labelPosition\", \"floatingBillboard\", \"shared\");\n}\n\nif (that.eggParameters) {\n    const dimension = that.eggParameters.gridInformation?.dimension ?? 'home';\n    const dimensionX = that.eggParameters.gridInformation?.position?.x ?? 0;\n    const dimensionY = that.eggParameters.gridInformation?.position?.y ?? 0;\n\n    tags[dimension] = true;\n    tags[dimension + 'X'] = dimensionX;\n    tags[dimension + 'Y'] = dimensionY;\n\n    tags.color = abPersonality?.tags?.abBaseColor ?? '#00D9CD';\n    tags.labelFloatingBackgroundColor = abPersonality?.tags?.abBaseColor ?? '#00D9CD';\n    tags.labelColor = abPersonality?.tags?.abBaseLabelColor ?? 'black';\n\n    const name = await os.showInput('', {\n        title: 'Name this place'\n    });\n\n    tags.label = name;\n}","abVersion":"10.6","abIDOrigin":"homePlace","home":true,"homeX":-4,"homeY":-8,"homePlace":"true","form":"hex","scaleZ":2,"labelWordWrapMode":"breakWords","labelFloatingBackgroundColor":"#FB9E00","onGridClick":"@shout('clearHomePlaceMenu');","setHomeBase":"@if (that == thisBot) {\r\n    tags.scaleX = 2;\r\n    tags.scaleY = 2;\r\n    tags.scaleZ = 1;\r\n    tags.homeBase = true;\r\n} else {\r\n    tags.scaleX = 1;\r\n    tags.scaleY = 1;\r\n    tags.scaleZ = 2;\r\n    tags.homeBase = false;\r\n}","homeBaseBot":"true","labelColor":"black","scaleX":1,"scaleY":1,"homeBase":false}}}}