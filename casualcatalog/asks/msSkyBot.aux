{"version":1,"state":{"0c584200-a569-4cb4-a875-a548b1aa322a":{"id":"0c584200-a569-4cb4-a875-a548b1aa322a","space":"shared","tags":{"abIDOrigin":"msSkyBot","formAddress":"https://cdn.pixabay.com/photo/2023/07/18/16/24/grid-8135179_1280.png","home":true,"homeZ":0,"onClick":"@shout(\"skyboxToggle\", tags.formAddress)","onEggHatch":"@const dimension = configBot.tags.gridPortal;\r\nsetTagMask(thisBot, dimension, true, 'shared');\r\n\r\nlet parameters, skyboxImage, toggleTags\r\n\r\nif(that.eggParameters){\r\n    parameters = that.eggParameters;\r\n    skyboxImage = that.eggParameters.skyboxImage ?? false;\r\n    toggleTags = that.eggParameters.toggleTags ?? false;\r\n}\r\n\r\nif(skyboxImage){\r\n    if (tags.formAddress !== skyboxImage) {\r\n        setTagMask(thisBot, 'formAddress', skyboxImage, 'shared');\r\n    }\r\n}\r\n\r\nif(toggleTags){\r\n    for(const tag in toggleTags){\r\n        if (thisBot.tags[tag] !== toggleTags[tag]) {\r\n            setTagMask(thisBot, tag, toggleTags[tags], 'shared');\r\n        }\r\n    }\r\n};\r\n\r\nif(parameters){\r\n    const currentHash = crypto.hash('sha1', 'hex', tags.passedEggParameters);\r\n    const incomingHash = crypto.hash('sha1', 'hex', parameters);\r\n    \r\n    if (currentHash !== incomingHash) {\r\n        setTagMask(thisBot, 'passedEggParameters', parameters, 'shared');\r\n    }\r\n};\r\n\r\nshout(\"onSkyboxToggleInitialized\", thisBot);","system":"skyboxTool.toggle","abArtifactName":"msSkyBot","homeY":5,"homeX":-11}},"6d9b3e30-52e5-4ca7-95bf-db0e8d347ad1":{"id":"6d9b3e30-52e5-4ca7-95bf-db0e8d347ad1","space":"shared","tags":{"abArtifactName":"msSkyBot","abIDOrigin":"msSkyBot","anchorPoint":"center","color":"null","form":"skybox","formAddress":"https://cdn.pixabay.com/photo/2023/07/18/16/24/grid-8135179_1280.png","homeX":"0","homeY":"0","onABArtifactReconstitute":"@const { data } = that;\r\n\r\nif (data) {\r\n    if(data.passedEggParameters != null){\r\n        thisBot.onEggHatch({ eggParameters: data.passedEggParameters });\r\n        links.toggle.onEggHatch({ eggParameters: data.passedEggParameters });\r\n    }\r\n\r\n    if (links.toggle.tags.formAddress !== data.skyboxImage) {\r\n        setTagMask(links.toggle, 'formAddress', data.skyboxImage, 'shared');\r\n    }\r\n    if (thisBot.tags.formAddress !== data.skyboxImage) {\r\n        setTagMask(thisBot, 'formAddress', data.skyboxImage, 'shared');\r\n    }\r\n}","onEggHatch":"@const dimension = configBot.tags.gridPortal;\r\nsetTagMask(thisBot, dimension, true, 'shared');\r\nsetTagMask(thisBot, dimension + 'RotationX', 1.5708, 'shared');\r\n\r\nlet parameters, skyboxImage, skyboxTags;\r\n\r\nconsole.log(`[${tags.system}.${tagName}] that:`, that);\r\n\r\nif(that.eggParameters){\r\n    parameters = that.eggParameters;\r\n    skyboxImage = that.eggParameters.skyboxImage ?? false;\r\n    skyboxTags = that.eggParameters.skyboxTags ?? false;\r\n}\r\n\r\nif(skyboxImage){\r\n    if (tags.formAddress !== skyboxImage) {\r\n        setTagMask(thisBot, 'formAddress', skyboxImage, 'shared');\r\n    }\r\n}\r\n\r\nif(skyboxTags){\r\n    for(const tag in skyboxTags){\r\n        if (thisBot.tags[tag] !== skyboxTags[tag]) {\r\n            setTagMask(thisBot, tag, skyboxTags[tags], 'shared');\r\n        }\r\n    }\r\n};\r\n\r\nif(parameters){\r\n    const currentHash = crypto.hash('sha1', 'hex', tags.passedEggParameters);\r\n    const incomingHash = crypto.hash('sha1', 'hex', parameters);\r\n\r\n    if (currentHash !== incomingHash) {\r\n        setTagMask(thisBot, 'passedEggParameters', parameters, 'shared');\r\n    }\r\n};\r\n\r\ngridPortalBot.tags.portalCameraType = \"perspective\";\r\ngridPortalBot.tags.portalPannableMaxX = 30;\r\ngridPortalBot.tags.portalPannableMinX = -30;\r\ngridPortalBot.tags.portalPannableMaxY = 30;\r\ngridPortalBot.tags.portalPannableMinY = -30;\r\ngridPortalBot.tags.portalZoomable = false;","pointable":"false","scale":"200","skyboxToggle":"@if(tags.formAddress == that){\r\n    setTagMask(thisBot, 'home', tags.home == false ? true : false, 'shared');\r\n}\r\nelse {\r\n    setTagMask(thisBot, 'home', false);\r\n}","system":"skyboxTool.skybox","onABArtifactCollectShards":"@const shard: ABArtifactShard = {\n    data: {\n        skyboxImage: tags.formAddress,\n        passedEggParameters: tags.passedEggParameters ?? null,\n    },\n    dependencies: [\n        {\n            askID: 'msSkyBot'\n        }\n    ]\n}\n\nreturn shard;","onABArtifactExperience":"@thisBot.onABArtifactReconstitute(that);","toggle":"ðŸ”—0c584200-a569-4cb4-a875-a548b1aa322a"}}}}