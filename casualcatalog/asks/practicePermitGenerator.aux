{"version":1,"state":{"5f8e5de1-ddf5-4193-8b49-b26644f456ac":{"id":"5f8e5de1-ddf5-4193-8b49-b26644f456ac","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","abIDOrigin":null,"abIDStudio":null,"auxCodeOrigin":null,"color":"blue","cw":"12","draggable":"false","form":"egg","home":true,"homeX":0,"homeY":6,"homeZ":0,"label":"Hey! Tap me to make some QR Codes","loop":false,"onClick":"@const JSZip = (await import(\"https://cdn.skypack.dev/jszip\")).default;\nconst csvCodes = [];\nconst csvHeaders = `UUID, PIN, PIN HASH, URL\\n`\nconst zip = new JSZip();\nlet totalURLS = 250\n\nfor (let i = 0; i < totalURLS; i++){\n    const identifier = uuid();\n    const pin = math.randomInt(1000, 10000);\n    const ph = crypto.sha256(pin).substring(0, 4);\n    const progress = 1/totalURLS;\n    const qrUrl = `https://ab1.bot/?ab=eggCarton&bios=local&inst=2025-${identifier}&ph=${ph}&cw=${tags.cw}`;\n\n    csvCodes.push(identifier + ',' + pin + ',' + ph + ',' + qrUrl)\n\n    if (i != totalURLS - 1)\n    {\n        masks.progressBar = progress * i;\n        masks.label = \"working on qr code \" + i;\n    } \n    else \n    {\n        masks.progressBar = 1;\n        masks.label = \"generation complete\";\n\n        await os.sleep(1000);\n    }\n}\n\nzip.file(fileDate()+ 'practicePermits' + '.csv', csvHeaders + csvCodes.join('\\n'));\n\nconst content = await zip.generateAsync({type:\"blob\"});\n\nos.download(content, fileDate() + '_practicePermits.zip');\n\nmasks.progressBar = null;\nmasks.label = \"tap me again if you want more\";\n\nfunction fileDate() {\n    function twoDigit(n) { return (n < 10 ? '0' : '') + n; }\n    var now = new Date();\n    return '' + now.getFullYear() + twoDigit(now.getMonth() + 1) + twoDigit(now.getDate());\n}","onEggHatch":"@shout(\"onServerStreaming\")","onInstStreaming":"@gridPortalBot.tags.portalColor = \"#515A5A\"\ngridPortalBot.tags.portalPannable = false\ngridPortalBot.tags.portalRotatable = false\ntags.label = \"Hey! Tap me to make some QR Codes\"\nawait os.focusOn(thisBot);","progressBarBackgroundColor":"#464655","progressBarColor":"#EDDFEF","progressBarPosition":"front","scale":"5","system":"practicePermitGenerator.generator","practicePermit_generator":null,"abVersion":"10.5","practicePermiteGenerator":null,"practicePermitGenerator":"true"}}}}