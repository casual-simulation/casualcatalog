{"version":1,"state":{"3cefd636-9fcb-4c8e-aa58-e00ceb2862c1":{"id":"3cefd636-9fcb-4c8e-aa58-e00ceb2862c1","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","abIDOrigin":"practicePermitGenerator","cw":"14","draggable":"false","form":"egg","home":true,"homeX":0,"homeY":"0","homeZ":0,"label":"Hey! Tap me to make some QR Codes","loop":false,"onClick":"@const JSZip = (await import(\"https://cdn.skypack.dev/jszip\")).default;\nconst Papa = (await import(\"https://cdn.skypack.dev/papaparse\")).default;\n\nconst rows = [];\nconst zip = new JSZip();\nconst totalURLS = 250;\n\nfor (let i = 0; i < totalURLS; i++) {\n  const identifier = uuid();\n  const pin = math.randomInt(1000, 10000);\n  const ph = crypto.sha256(pin).substring(0, 4);\n  const qrUrl = `https://ab1.bot/?ask=eggCarton&bios=local&staticInst=${identifier}&ph=${ph}&cw=${tags.cw}`;\n\n  rows.push({\n    UUID: identifier,\n    PIN: pin,\n    URL: qrUrl\n  });\n\n  if (i !== totalURLS - 1) {\n    masks.label = \"working on qr code \" + i;\n  } else {\n    masks.label = \"generation complete\";\n    await os.sleep(1000);\n  }\n}\n\nconst csv = Papa.unparse(rows, {\n  header: true,\n  quotes: true\n});\n\nzip.file(fileDate() + 'practicePermits.csv', csv);\nconst content = await zip.generateAsync({ type: \"blob\" });\nos.download(content, fileDate() + '_practicePermits.zip');\n\nmasks.label = \"tap me again if you want more\";\n\nfunction fileDate() {\n  function twoDigit(n) { return (n < 10 ? '0' : '') + n; }\n  const now = new Date();\n  return '' + now.getFullYear() + twoDigit(now.getMonth() + 1) + twoDigit(now.getDate());\n}\n","onInstStreaming":"@gridPortalBot.masks.portalColor = \"#515A5A\"\ngridPortalBot.masks.portalPannable = false\ngridPortalBot.masks.portalRotatable = false\nmasks.label = \"Hey! Tap me to make some QR Codes\"\n// await os.focusOn(thisBot);","scale":"5","system":"practicePermitGenerator.generator","abVersion":"10.5","practicePermitGenerator":"true","cursor":"pointer","labelPosition":"floatingBillboard","onPointerEnter":"@masks.color = tags.hoverColor;","hoverColor":"#73D8FF","color":"#009CE0","onPointerExit":"@masks.color = null;"}}}}