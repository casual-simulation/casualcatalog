{"version":1,"state":{"ba519976-4a87-4d3d-b891-ebdafe5f1ba5":{"id":"ba519976-4a87-4d3d-b891-ebdafe5f1ba5","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","abIDOrigin":"practicePermitGenerator","color":"blue","cw":"13","draggable":"false","form":"egg","home":true,"homeX":0,"homeY":6,"homeZ":0,"label":"Hey! Tap me to make some QR Codes","loop":false,"onClick":"@const JSZip = (await import(\"https://cdn.skypack.dev/jszip\")).default;\nconst csvCodes = [];\nconst csvHeaders = `UUID, PIN, PIN HASH, URL\\n`\nconst zip = new JSZip();\nlet totalURLS = 250\n\nfor (let i = 0; i < totalURLS; i++) {\n    const identifier = uuid();\n    const pin = math.randomInt(1000, 10000);\n    const ph = crypto.sha256(pin).substring(0, 4);\n    const progress = 1 / totalURLS;\n    const qrUrl = `https://ab1.bot/?ask=eggCarton&bios=local&staticInst=2025-${identifier}&ph=${ph}&cw=${tags.cw}`;\n\n    csvCodes.push(identifier + ',' + pin + ',' + ph + ',' + qrUrl)\n\n    if (i != totalURLS - 1) {\n        masks.progressBar = progress * i;\n        masks.label = \"working on qr code \" + i;\n    }\n    else {\n        masks.progressBar = 1;\n        masks.label = \"generation complete\";\n\n        await os.sleep(1000);\n    }\n}\n\nzip.file(fileDate() + 'practicePermits' + '.csv', csvHeaders + csvCodes.join('\\n'));\n\nconst content = await zip.generateAsync({ type: \"blob\" });\n\nos.download(content, fileDate() + '_practicePermits.zip');\n\nmasks.progressBar = null;\nmasks.label = \"tap me again if you want more\";\n\nfunction fileDate() {\n    function twoDigit(n) { return (n < 10 ? '0' : '') + n; }\n    var now = new Date();\n    return '' + now.getFullYear() + twoDigit(now.getMonth() + 1) + twoDigit(now.getDate());\n}","onEggHatch":null,"onInstStreaming":"@gridPortalBot.tags.portalColor = \"#515A5A\"\ngridPortalBot.tags.portalPannable = false\ngridPortalBot.tags.portalRotatable = false\ntags.label = \"Hey! Tap me to make some QR Codes\"\nawait os.focusOn(thisBot);","progressBarBackgroundColor":"#464655","progressBarColor":"#EDDFEF","progressBarPosition":"front","scale":"5","system":"practicePermitGenerator.generator","abVersion":"10.5","practicePermitGenerator":"true","cursor":"pointer"}}}}