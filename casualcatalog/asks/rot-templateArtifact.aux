{"version":1,"state":{"7be0e37e-402f-4225-bcd4-f0b594d9e366":{"id":"7be0e37e-402f-4225-bcd4-f0b594d9e366","space":"shared","tags":{"creator":"34c3c210-5bf1-49cf-b151-ee2d07f0e673","abIDOrigin":"rot-templateArtifact","abIDStudio":"1259f269-03b9-41d4-b088-c199d8f586ec","allData":{},"artifact":"false","artifactID":1,"attributes":"ðŸ§¬{\"Name\":\"Beer Bottle\",\"Description\":\"This beer bottle is made of thick glass and has a cork with a metal fastener. It is embossed with the words \\\"Frey Bros | Grand Rapids | Mich.\\\". It is sealed and contains some remnants of its original contents, likely a lager-style beer.\\n\\nThis beer bottle was found underground while installing a sprinkler system near the intersection of Fulton and Diamond in Grand Rapids. It was produced by one of Grand Rapids' many local breweries in the late nineteenth century, the Frey Brothers, after the Civil War. Grand Rapids has a long history of beer production which has been revived with the explosion of craft breweries in the twenty-first century.\",\"PhotoUrl\":\"https://brandplayer-prod-filesbucket-458964701190.s3.amazonaws.com/f1bbae58-61d7-48d2-9ec9-47dbd463eca9/8e6d1bf0428776c552daad9c8c68e09d899a954d2ce70c7886761728676779d0.png\",\"Year\":\"1872 â€“ 1892\",\"createdAt\":\"2024-08-05T16:20:46.154Z\",\"updatedAt\":\"2024-08-28T19:41:11.445Z\",\"publishedAt\":\"2024-08-05T16:23:40.022Z\",\"Interactive\":false,\"GRPMUrl\":\"https://grpmcollections.org/Detail/objects/176261\",\"RealImageUrl\":\"https://grpmcollections.org/media/collectiveaccess/images/1/8/1/6/71127_ca_object_representations_media_181634_large.jpg\",\"InteractiveUrl\":null}","autoHatch":true,"checkForNewDiscovery":"@let collectionBot = getBot(byTag(\"name\", \"collectionsMenu\"))\r\nif (collectionBot.tags.collectionsCompletion[tags.allData.CollectionID] > 0 || !tags.allData.RequiresCollection) \r\n{\r\n    if (!tags.discoveredArtifact)\r\n    {\r\n        tags.form=\"mesh\";\r\n        tags.scale=3\r\n    }\r\n}\r\nconsole.log(\"check\")","collectionData":"test","color":"gray","discovered":"false","discoveredArtifact":"false","draggable":"false","formAddress":"https://publicos-link-filesbucket-404655125928.s3.amazonaws.com/5828ecd8-660d-4af6-8889-5d1c983f68a3/9eabbacf91c7c1cbe7e6566b1aa7cb635ce8150420d99bcbba6fc4843b152091.xml","formSubtype":"gltf","home":null,"homeX":null,"homeY":null,"labelSize":0.5,"labelSizeMode":"auto","labelWordWrapMode":"breakWords","landmarkAttributes":{"Description":"This beer bottle is made of thick glass and has a cork with a metal fastener. It is embossed with the words \"Frey Bros | Grand Rapids | Mich.\". It is sealed and contains some remnants of its original contents, likely a lager-style beer.\n\nThis beer bottle was found underground while installing a sprinkler system near the intersection of Fulton and Diamond in Grand Rapids. It was produced by one of Grand Rapids' many local breweries in the late nineteenth century, the Frey Brothers, after the Civil War. Grand Rapids has a long history of beer production which has been revived with the explosion of craft breweries in the twenty-first century.","GRPMUrl":"https://grpmcollections.org/Detail/objects/176261","Interactive":false,"InteractiveUrl":null,"Name":"Beer Bottle","PhotoUrl":"https://brandplayer-prod-filesbucket-458964701190.s3.amazonaws.com/f1bbae58-61d7-48d2-9ec9-47dbd463eca9/8e6d1bf0428776c552daad9c8c68e09d899a954d2ce70c7886761728676779d0.png","RealImageUrl":"https://grpmcollections.org/media/collectiveaccess/images/1/8/1/6/71127_ca_object_representations_media_181634_large.jpg","Year":"1872 â€“ 1892","createdAt":"2024-08-05T16:20:46.154Z","publishedAt":"2024-08-05T16:23:40.022Z","updatedAt":"2024-08-28T19:41:11.445Z"},"manager":"ðŸ”—d8371444-9158-4436-8fc7-84cc91b7f525","map":true,"mapX":0,"mapY":0,"name":"Landmark","onClick":"@thisBot.onDiscover();","onDestroy":"@links.manager.masks.ovoBot = null;","onDiscover":"@let portal = configBot.tags.mapPortal\n// if we arent in the mapPortal, use gridPortal\nif (portal === undefined) {\n    portal = configBot.tags.gridPortal\n}\n\nlet posX = tags[portal + \"X\"];\nlet posY = tags[portal + \"Y\"];\nif (!tags[\"playerNear\" + configBot.id]) { return; }\nelse {\n    \n    // shout(\"openLandmarkUI\", [tags.landmarkAttributes.Name, tags.landmarkAttributes.Latitude, tags.landmarkAttributes.Longitude, tags.landmarkAttributes.Description, tags.landmarkAttributes.PhotoUrl, null, null]);\n    if (!tags.discoveredArtifact) {\n        //tags.discovered = true\n        let collectionBot = getBot(byTag(\"name\", \"collectionsMenu\"))\n        //if (collectionBot.tags.collectionsCompletion[tags.allData.CollectionID] > 0 || !tags.allData.RequiresCollection) {\n        if (tags.form==\"mesh\") {\n            console.log(\"spawnArtifact\")\n            //tags.color = \"\";\n            //tags.color=\"#ff9f19\"\n            //let xOffSet = tags.customOffset.xOffset ?? math.random(.00025, .0004);\n            //let yOffSet = tags.customOffset.yOffset ?? math.random(.0002, .0003);\n            let xOffSet = math.random(.00025, .0004);\n            let yOffSet = math.random(.0002, .0003);\n            if (tags.customOffset === undefined) {\n                if (math.random(0, 10) > 5) { xOffSet *= -1 }\n                if (math.random(0, 10) > 5) { yOffSet *= -1 }\n            }\n            let pointBot = create({\n                form: \"sprite\",\n                formAddress: tags.discoveredFormAddress ?? \"https://brandplayer-prod-filesbucket-458964701190.s3.amazonaws.com/f1bbae58-61d7-48d2-9ec9-47dbd463eca9/534934f21f53bd9f8168abbefdd5719d5e292b253a645a88f506c2f646804826.png\",\n                [portal]: true,\n                attributes: tags.attributes,\n                artifactID: tags.artifactID,\n                CollectionID: tags.CollectionID,\n                [portal + \"X\"]: posX + xOffSet,\n                [portal + \"Y\"]: posY + yOffSet,\n                scale: 3,\n                isArtifact: true,\n                orientationMode: \"billboard\"\n            })\n            tags.form=\"\";\n            tags.scale=0.6\n            tags.discoveredArtifact = true\n        }\n        else {\n            //tags.color = \"#4198bf\";\n        }\n    }\n    if (!tags.discovered)\n    {\n        os.playSound(\"https://publicos-link-filesbucket-404655125928.s3.amazonaws.com/1259f269-03b9-41d4-b088-c199d8f586ec/61098ca5d7eb2debaff331abe1ca0e5eb90a4b3fec1c28388b00819f899d96a7.mpga\");\n        tags.discovered=true;\n        tags.color=\"#04b1ff\"\n        \n    }\n}","onEggHatch":"@console.log(that)\nlet portal = configBot.tags.mapPortal\n// if we arent in the mapPortal, use gridPortal\nif (portal === undefined) {\n    portal = configBot.tags.gridPortal\n}\n\nthisBot.space = \"tempLocal\"\n\ntags[portal] = true\n\n// set location\ntags[portal + \"X\"] = that.eggParameters?.spawnX ?? 0\ntags[portal + \"Y\"] = that.eggParameters?.spawnY ?? 0\ntags.name = that.eggParameters?.name ?? \"Landmark\"\ntags.landmarkAttributes = that.eggParameters?.landmarkAttributes ?? tags.landmarkAttributes\ntags.artifactID = that.eggParameters?.artifactID ?? 1\n// set size\n//tags.scaleX = that.eggParameters?.scaleX ?? 1\n//tags.scaleY = that.eggParameters?.scaleY ?? 1\n//tags.scaleZ = that.eggParameters?.scaleZ ?? 1\ntags.scale = that.eggParameters?.scale ?? .6\n\n// set form/model types\ntags.form = that.eggParameters?.form ?? \"\"\ntags.formSubtype = that.eggParameters?.formSubtype ?? \"gltf\"\ntags.formAddress = that.eggParameters?.formAddress ?? \"https://publicos-link-filesbucket-404655125928.s3.amazonaws.com/5828ecd8-660d-4af6-8889-5d1c983f68a3/9eabbacf91c7c1cbe7e6566b1aa7cb635ce8150420d99bcbba6fc4843b152091.xml\"\ntags.label = that.eggParameters?.label ?? \"\"\n\n// saves the after discovery options\ntags.discoveredForm = that.eggParameters?.discoveredForm ?? \"\"\ntags.discoveredFormAddress = that.eggParameters?.imageURL ?? \"\"\n\n// sets bot color options\ntags.color = \"gray\"\ntags.labelColor = that.eggParameters?.labelColor ?? \"\"\n\n// saves discovered color options\ntags.discoveredColor = that.eggParameters?.color ?? \"\"\ntags.discoveredLabelColor = that.eggParameters?.discoveredLabelColor ?? \"\"\n\n// saves code to execute onDiscover\ntags.onDiscover = that.eggParameters?.onDiscover ?? tags.onDiscover\ntags.allData = that.eggParameters.allData\ntags.collectionData = that.eggParameters?.collectionData ?? \"test\"\n\n// changes the residual idicators from the template\ntags.system = \"rot.artifacts.artifact\"\n\n// transfers the rest of the data to a tag\nfor (const tag in that.eggParameters.allData ?? {}) {\n    thisBot.tags[tag] = that.eggParameters.allData[tag]\n}\nwhisper(this,\"checkForNewDiscovery\")","rotateAnimation":"@// if the player isn't near then hide the label\nthisBot.toggleLabel(tags[\"playerNear\" + configBot.id])\n// if we are already rotating do nothing\nif (tags[\"rotating\" + configBot.id] || !tags[\"playerNear\" + configBot.id]) { return; }\n\n\ntags.mapZ = 0\ntags[\"rotating\" + configBot.id] = true;\n\n//console.log(\"rotating\")\nwhile (tags[\"playerNear\" + configBot.id] && !tags.discoveredArtifact) {\n    let duration = 3.5\n    animateTag(thisBot, \"mapZ\", {\n        duration: duration,\n        fromValue: 0,\n        toValue: 3,\n        tagMaskSpace: \"tempLocal\"\n    })\n    await animateTag(thisBot, \"mapRotationZ\", {\n        duration: duration,\n        fromValue: 0,\n        toValue: Math.PI / 2,\n        tagMaskSpace: \"tempLocal\"\n    })\n    animateTag(thisBot, \"mapZ\", {\n        duration: duration,\n        fromValue: 3,\n        toValue: 0,\n        tagMaskSpace: \"tempLocal\"\n    })\n    await animateTag(thisBot, \"mapRotationZ\", {\n        duration: duration,\n        fromValue: Math.PI / 2,\n        toValue: Math.PI,\n        tagMaskSpace: \"tempLocal\"\n    })\n}\ntags[\"rotating\" + configBot.id] = false;\n","scale":0.6,"scaleX":1,"scaleY":1,"scaleZ":1,"studio":"modelArtifact","system":"rot.templates.landmark","toggleLabel":"@let toggle = that\r\nif (toggle === undefined) {\r\n    return\r\n}\r\nif (toggle) {\r\n    tags.labelOpacity = 1;\r\n    tags.labelFloatingBackgroundColor = \"white\";\r\n    tags.labelPosition = \"floatingBillboard\";\r\n    // so it automatically makes the #name the label\r\n    tags.label = tags.name\r\n}\r\nelse {\r\n    tags.label = \" \"\r\n    tags.labelOpacity = 0\r\n    return;\r\n}","rot-templateArtifact":"true","abVersion":"10.10"}}}}