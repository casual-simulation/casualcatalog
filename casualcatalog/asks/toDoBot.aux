{"version":1,"state":{"403b985b-7a8f-4b3c-9ae8-6526cf0ee629":{"id":"403b985b-7a8f-4b3c-9ae8-6526cf0ee629","space":"shared","tags":{"system":"vibe_kit.tools.toDoBot","onABArtifactCollectShards":"@const shard: ABArtifactShard = {\r\n    data: {\r\n        dimensionData: {\r\n            dimension: ab.links.remember.tags.abActiveDimension,\r\n            [ab.links.remember.tags.abActiveDimension]: tags[ab.links.remember.tags.abActiveDimension],\r\n            [ab.links.remember.tags.abActiveDimension + 'X']: tags[ab.links.remember.tags.abActiveDimension + 'X'],\r\n            [ab.links.remember.tags.abActiveDimension + 'Y']: tags[ab.links.remember.tags.abActiveDimension + 'Y'],\r\n            [ab.links.remember.tags.abActiveDimension + 'Z']: tags[ab.links.remember.tags.abActiveDimension + 'Z'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationX']: tags[ab.links.remember.tags.abActiveDimension + 'RotationX'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationY']: tags[ab.links.remember.tags.abActiveDimension + 'RotationY'],\r\n            [ab.links.remember.tags.abActiveDimension + 'RotationZ']: tags[ab.links.remember.tags.abActiveDimension + 'RotationZ'],\r\n        },\r\n    },\r\n    dependencies: [\r\n        {\r\n            askID: 'toDoBot'\r\n        }\r\n    ]\r\n}\r\n\r\nreturn shard;","onABArtifactReconstitute":"@let data = that.data;\r\nif (data.config) {\r\n    data = data.config;\r\n}\r\n\r\n//Place bot correctly\r\nif (data.dimensionData) {\r\n    for (const tagName in data.dimensionData) {\r\n        tags[tagName] = data.dimensionData[tagName];\r\n    }\r\n}\r\n\r\n//If new action\r\nif (data.eggParameters) {\r\n    const dimension = data.eggParameters.gridInformation?.dimension ?? 'home';\r\n    const dimensionX = data.eggParameters.gridInformation?.position?.x ?? 0;\r\n    const dimensionY = data.eggParameters.gridInformation?.position?.y ?? 0;\r\n\r\n    tags.dimension = dimension;\r\n    tags[dimension] = true;\r\n    tags[dimension + 'X'] = dimensionX;\r\n    tags[dimension + 'Y'] = dimensionY;\r\n}","onABStripArtifactInstanceDataFromBotData":"@const { data } = that;\r\n\r\ndelete data.tags[data.tags.dimension + \"X\"];\r\ndelete data.tags[data.tags.dimension + \"Y\"];\r\ndelete data.tags[data.tags.dimension + \"Z\"];\r\ndelete data.tags[data.tags.dimension + \"RotationX\"];\r\ndelete data.tags[data.tags.dimension + \"RotationY\"];\r\ndelete data.tags[data.tags.dimension + \"RotationZ\"];\r\ndelete data.tags[data.tags.dimension];\r\ndelete data.tags.dimension;","onClick":"@if (that) {\r\n    if (that.modality == 'mouse' && that.buttonId == 'right') {\r\n        return;\r\n    }\r\n}\r\n\r\nshout('abMenuRefresh');\r\nshout(\"clearToDoMenu\");\r\n\r\nconfigBot.tags.menuPortal = 'toDo_menu';\r\n\r\nconst menuOptions = {\r\n    toDo_menu: true,\r\n    clearToDoMenu: `@destroy(thisBot);`,\r\n    abMenuRefresh: \"@destroy(thisBot);\",\r\n    toDo: getLink(thisBot)\r\n}\r\n\r\nconst promptButton = {\r\n    ...menuOptions,\r\n    label: 'edit prompt',\r\n    toDo_menuSortOrder: 1,\r\n    onSubmit: `@\r\n        links.toDo.tags.prompt = that.text;\r\n        shout(\"clearToDoMenu\");\r\n    `,\r\n    onCreate: `@\r\n        masks.menuItemText = links.toDo.tags.prompt ?? \"\";\r\n    `\r\n}\r\n\r\nab.links.menu.abCreateMenuInput(promptButton);\r\n","abArtifactName":"toDoBot","abIDOrigin":"simDoor","onBotAdded":"@let waitTime = 0;\r\n\r\nwhile(!globalThis.ab?.links.bot_factory) {\r\n    if (waitTime >= 5000) {\r\n        return;\r\n    }\r\n    \r\n    await os.sleep(250);\r\n    waitTime += 250;\r\n}\r\n\r\nmasks.ready = true;","onGridClick":"@shout(\"clearToDoMenu\");","strokeColor":"white","cursor":"pointer","labelWordWrapMode":"breakWords","labelPosition":"floatingBillboard","labelFontSize":"1","labelSize":"2","label":"to do","color":null,"labelFloatingBackgroundColor":null,"labelColor":"black","toDo":"true","formAddress":null,"form":null,"orientationMode":null,"anchorPoint":"center","scale":null,"tempFormAddress":"https://auth-aux-dev-filesbucket-682397690660.s3.amazonaws.com/33a13525-b6c0-4c59-b9cd-5f4cdb9d3d39/3c69dd021f95416d379e20935c50a7df3624654e362aba9590300d0816de8ee9.png"}}}}