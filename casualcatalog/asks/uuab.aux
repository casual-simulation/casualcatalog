{"version":1,"state":{"043b6fe4-05cb-4f96-a305-4076cf54dce7":{"id":"043b6fe4-05cb-4f96-a305-4076cf54dce7","space":"shared","tags":{"system":"uuabs.uuab","artifact":"ðŸ”—78e41503-c933-4f8a-817a-ba97bf8d5d27","abArtifactName":"uuab","onABStripArtifactInstanceDataFromBotData":"@const { data } = that;\r\n\r\ndelete data.tags.bios;\r\ndelete data.tags.defaultPattern;\r\ndelete data.tags.defaultPatternStudio;\r\ndelete data.tags.instName;\r\ndelete data.tags.uuabName;\r\ndelete data.tags.onChannelLoad;","onABArtifactReconstitute":"@const data = that.data;\r\n\r\ntags.bios = data.bios;\r\ntags.instName = data.instName;\r\ntags.defaultPattern = data.defaultPattern;\r\ntags.defaultPatternStudio = data.defaultPatternStudio;\r\ntags.uuabName = data.uuabName;\r\ntags.onUUABLoaded = data.onUUABLoaded;\r\n\r\nshout(\"onUUABReconstituted\", thisBot);","onABArtifactCollectShards":"@const shard: ABArtifactShard = {\r\n    data: {\r\n        bios: tags.bios,\r\n        instName: tags.instName,\r\n        defaultPattern: tags.defaultPattern,\r\n        defaultPatternStudio: tags.defaultPatternStudio,\r\n        uuabName: tags.uuabName,\r\n        onUUABLoaded: tags.onUUABLoaded\r\n    },\r\n    dependencies: [\r\n        {\r\n            askID: 'uuab'\r\n        }\r\n    ]\r\n}\r\n\r\nreturn shard;","abIDOrigin":"uuab","uuab":"true","onUUABLoaded":"@//bios and inst handlers\r\nconst currentURL = new URL(configBot.tags.url);\r\nconst origin = currentURL.origin;\r\n\r\nlet newURL = new URL(origin);\r\n\r\nif (configBot.tags.comId) {\r\n    newURL.searchParams.append(\"comId\", configBot.tags.comId);\r\n}\r\n\r\nnewURL.searchParams.append(\"abStayAwake\", true);\r\n\r\nif (tags.bios == 'studio') {\r\n    if (tags.instName) {\r\n        newURL.searchParams.append(\"owner\", tags.defaultPatternStudio ?? 'player');\r\n        newURL.searchParams.append(\"inst\", tags.instName);\r\n        newURL.searchParams.append(\"gridPortal\", 'home');\r\n    } else {\r\n        newURL.searchParams.append(\"bios\", 'studio');\r\n    }\r\n} \r\nelse if (tags.bios == 'local') {\r\n    if (tags.instName) {\r\n        newURL.searchParams.append(\"staticInst\", tags.instName);\r\n        newURL.searchParams.append(\"gridPortal\", 'home');\r\n    } else {\r\n        newURL.searchParams.append(\"bios\", 'local');\r\n    }\r\n} \r\nelse if (tags.bios == 'free') {\r\n    if (tags.instName) {\r\n        newURL.searchParams.append(\"owner\", 'public');\r\n        newURL.searchParams.append(\"inst\", tags.instName);\r\n        newURL.searchParams.append(\"gridPortal\", 'home'); \r\n    } else {\r\n        newURL.searchParams.append(\"bios\", 'free');\r\n    }\r\n}\r\n\r\nif (configBot.tags.launcher) {\r\n    newURL.searchParams.append(\"ask\", configBot.tags.launcher);\r\n} else {\r\n    newURL.searchParams.append(\"ask\", \"launcher\");\r\n}\r\n\r\nos.goToURL(newURL.href);"}}}}